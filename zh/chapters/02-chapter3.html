<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>程序執行的一剎那 | C 語言編程透視</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.1.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-google_code_prettify/google-code-prettify.css">
        
    
    

        
    
    
    <link rel="next" href="../../zh/chapters/02-chapter4.html" />
    
    
    <link rel="prev" href="../../zh/chapters/02-chapter2.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="5" data-basepath="../.." data-revision="Wed Sep 02 2015 11:09:18 GMT+0800 (CST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="zh/preface/01-chapter0.html">
            
                
                    <a href="../../zh/preface/01-chapter0.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        版本修訂歷史
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="zh/preface/01-chapter1.html">
            
                
                    <a href="../../zh/preface/01-chapter1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        前言
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="zh/chapters/02-chapter1.html">
            
                
                    <a href="../../zh/chapters/02-chapter1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        把 Vim 打造成源代碼編輯器
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="zh/chapters/02-chapter2.html">
            
                
                    <a href="../../zh/chapters/02-chapter2.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Gcc 編譯的背後
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="5" data-path="zh/chapters/02-chapter3.html">
            
                
                    <a href="../../zh/chapters/02-chapter3.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        程序執行的一剎那
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="zh/chapters/02-chapter4.html">
            
                
                    <a href="../../zh/chapters/02-chapter4.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        動態符號鏈接的細節
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="zh/chapters/02-chapter5.html">
            
                
                    <a href="../../zh/chapters/02-chapter5.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        緩衝區溢出與注入分析
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="zh/chapters/02-chapter6.html">
            
                
                    <a href="../../zh/chapters/02-chapter6.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        進程的內存映像
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="zh/chapters/02-chapter7.html">
            
                
                    <a href="../../zh/chapters/02-chapter7.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        進程和進程的基本操作
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="zh/chapters/02-chapter8.html">
            
                
                    <a href="../../zh/chapters/02-chapter8.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        打造史上最小可執行ELF文件(45字節)
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="zh/chapters/02-chapter9.html">
            
                
                    <a href="../../zh/chapters/02-chapter9.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        代碼測試、調試與優化
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >C 語言編程透視</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="%E7%A8%8B%E5%BA%8F%E5%9F%B7%E8%A1%8C%E7%9A%84%E4%B8%80%E5%89%8E%E9%82%A3">&#x7A0B;&#x5E8F;&#x57F7;&#x884C;&#x7684;&#x4E00;&#x524E;&#x90A3;</h1>
<ul>
<li><a href="#toc_16100_6031_1">&#x4EC0;&#x9EBC;&#x662F;&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;</a></li>
<li><a href="#toc_16100_6031_2">/bin/bash &#x662F;&#x4EC0;&#x9EBC;&#x6642;&#x5019;&#x555F;&#x52D5;&#x7684;</a><ul>
<li><a href="#toc_16100_6031_3">/bin/login</a></li>
<li><a href="#toc_16100_6031_4">/bin/getty</a></li>
<li><a href="#toc_16100_6031_5">/sbin/init</a></li>
<li><a href="#toc_16100_6031_6">&#x547D;&#x4EE4;&#x555F;&#x52D5;&#x904E;&#x7A0B;&#x8FFD;&#x672C;&#x6EAF;&#x6E90;</a></li>
<li><a href="#toc_16100_6031_7">&#x8AB0;&#x555F;&#x52D5;&#x4E86; /sbin/init</a></li>
</ul>
</li>
<li><a href="#toc_16100_6031_8">/bin/bash &#x5982;&#x4F55;&#x8655;&#x7406;&#x7528;&#x6236;&#x9375;&#x5165;&#x7684;&#x547D;&#x4EE4;</a><ul>
<li><a href="#toc_16100_6031_9">&#x9810;&#x5099;&#x77E5;&#x8B58;</a></li>
<li><a href="#toc_16100_6031_10">&#x54EA;&#x7A2E;&#x547D;&#x4EE4;&#x5148;&#x88AB;&#x57F7;&#x884C;</a></li>
<li><a href="#toc_16100_6031_11">&#x9019;&#x4E9B;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#x662F;&#x5982;&#x4F55;&#x89E3;&#x6790;&#x7684;&#xFF1A;<code>|, &gt;, &lt;, &amp;</code></a></li>
<li><a href="#toc_16100_6031_12">/bin/bash &#x7528;&#x4EC0;&#x9EBC;&#x9B54;&#x6CD5;&#x8B93;&#x4E00;&#x500B;&#x666E;&#x901A;&#x7A0B;&#x5E8F;&#x8B8A;&#x6210;&#x4E86;&#x9032;&#x7A0B;</a></li>
</ul>
</li>
<li><a href="#toc_16100_6031_13">&#x53C3;&#x8003;&#x8CC7;&#x6599;</a></li>
</ul>
<p>&#x7576;&#x6211;&#x5011;&#x5728; Linux &#x4E0B;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x8F38;&#x5165;&#x4E00;&#x500B;&#x547D;&#x4EE4;&#x4E4B;&#x5F8C;&#xFF0C;&#x9019;&#x80CC;&#x5F8C;&#x767C;&#x751F;&#x4E86;&#x4EC0;&#x9EBC;&#xFF1F;</p>
<p><span id="toc_16100_6031_1"></span></p>
<h2 id="%E4%BB%80%E9%BA%BC%E6%98%AF%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%8E%A5%E5%8F%A3">&#x4EC0;&#x9EBC;&#x662F;&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;</h2>
<p>&#x7528;&#x6236;&#x4F7F;&#x7528;&#x8A08;&#x7B97;&#x6A5F;&#x6709;&#x5169;&#x7A2E;&#x5E38;&#x898B;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E00;&#x7A2E;&#x662F;&#x5716;&#x5F62;&#x5316;&#x7684;&#x63A5;&#x53E3;&#xFF08;GUI&#xFF09;&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x7A2E;&#x5247;&#x662F;&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;&#xFF08;CLI&#xFF09;&#x3002;&#x5C0D;&#x65BC;&#x5716;&#x5F62;&#x5316;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x7528;&#x6236;&#x9EDE;&#x64CA;&#x67D0;&#x500B;&#x5716;&#x6A19;&#x5C31;&#x53EF;&#x555F;&#x52D5;&#x5F8C;&#x81FA;&#x7684;&#x67D0;&#x500B;&#x7A0B;&#x5E8F;&#xFF1B;&#x5C0D;&#x65BC;&#x547D;&#x4EE4;&#x884C;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x7528;&#x6236;&#x9375;&#x5165;&#x67D0;&#x500B;&#x7A0B;&#x5E8F;&#x7684;&#x540D;&#x5B57;&#x5C31;&#x53EF;&#x555F;&#x52D5;&#x67D0;&#x500B;&#x7A0B;&#x5E8F;&#x3002;&#x9019;&#x5169;&#x8005;&#x7684;&#x57FA;&#x672C;&#x904E;&#x7A0B;&#x662F;&#x985E;&#x4F3C;&#x7684;&#xFF0C;&#x90FD;&#x9700;&#x8981;&#x67E5;&#x627E;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x5728;&#x78C1;&#x76E4;&#x4E0A;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x52A0;&#x8F09;&#x5230;&#x5167;&#x5B58;&#x4E26;&#x901A;&#x904E;&#x4E0D;&#x540C;&#x7684;&#x89E3;&#x91CB;&#x5668;&#x9032;&#x884C;&#x89E3;&#x6790;&#x548C;&#x904B;&#x884C;&#x3002;&#x4E0B;&#x9762;&#x4EE5;&#x547D;&#x4EE4;&#x884C;&#x70BA;&#x4F8B;&#x4F86;&#x4ECB;&#x7D39;&#x7A0B;&#x5E8F;&#x57F7;&#x884C;&#x4E00;&#x524E;&#x90A3;&#x767C;&#x751F;&#x7684;&#x4E00;&#x4E9B;&#x4E8B;&#x60C5;&#x3002;</p>
<p>&#x9996;&#x5148;&#x4F86;&#x4ECB;&#x7D39;&#x4EC0;&#x9EBC;&#x662F;&#x547D;&#x4EE4;&#x884C;&#xFF1F;&#x547D;&#x4EE4;&#x884C;&#x5C31;&#x662F; <code>Command Line</code>&#xFF0C;&#x5F88;&#x76F4;&#x89C0;&#x7684;&#x6982;&#x5FF5;&#x5C31;&#x662F;&#x7CFB;&#x7D71;&#x555F;&#x52D5;&#x5F8C;&#x7684;&#x90A3;&#x500B;&#x9ED1;&#x5C4F;&#x5E55;&#xFF1A;&#x6709;&#x4E00;&#x500B;&#x63D0;&#x793A;&#x7B26;&#xFF0C;&#x4E26;&#x6709;&#x5149;&#x6A19;&#x5728;&#x9583;&#x720D;&#x7684;&#x90A3;&#x6A23;&#x4E00;&#x500B;&#x7D42;&#x7AEF;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x6CC1;&#x4E0B;&#x53EF;&#x4EE5;&#x7528; <code>CTRL+ALT+F1-6</code> &#x5207;&#x63DB;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x7D42;&#x7AEF;&#xFF1B;&#x5728; GUI &#x754C;&#x9762;&#x4E0B;&#x4E5F;&#x6703;&#x6709;&#x4E00;&#x4E9B;&#x507D;&#x7D42;&#x7AEF;&#xFF0C;&#x770B;&#x4E0A;&#x53BB;&#x548C;&#x7CFB;&#x7D71;&#x555F;&#x52D5;&#x6642;&#x7684;&#x90A3;&#x500B;&#x7D42;&#x7AEF;&#x6C92;&#x6709;&#x4EC0;&#x9EBC;&#x5340;&#x5225;&#xFF0C;&#x4E5F;&#x6703;&#x6709;&#x4E00;&#x500B;&#x63D0;&#x793A;&#x7B26;&#xFF0C;&#x4E26;&#x6709;&#x4E00;&#x500B;&#x5149;&#x6A19;&#x5728;&#x9583;&#x720D;&#x3002;&#x5C31;&#x63D0;&#x793A;&#x7B26;&#x548C;&#x97FF;&#x61C9;&#x7528;&#x6236;&#x7684;&#x9375;&#x76E4;&#x8F38;&#x5165;&#x800C;&#x8A00;&#xFF0C;&#x5B83;&#x5011;&#x5169;&#x8005;&#x5728;&#x529F;&#x80FD;&#x4E0A;&#x662F;&#x4E00;&#x6A23;&#x7684;&#xFF0C;&#x5BE6;&#x969B;&#x4E0A;&#x5B83;&#x5011;&#x5C31;&#x662F;&#x540C;&#x4E00;&#x500B;&#x6771;&#x897F;&#xFF0C;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x5C31;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x5011;&#x6253;&#x5370;&#x51FA;&#x4F86;&#x3002;</p>
<pre><code>$ echo $SHELL # &#x6253;&#x5370;&#x7576;&#x524D;SHELL&#xFF0C;&#x7576;&#x524D;&#x904B;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;&#x7A0B;&#x5E8F;
/bin/bash
$ echo $$     # &#x8A72;&#x7A0B;&#x5E8F;&#x5C0D;&#x61C9;&#x9032;&#x7A0B;ID&#xFF0C;$$&#x662F;&#x500B;&#x7279;&#x6B8A;&#x7684;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#xFF0C;&#x5B83;&#x5B58;&#x653E;&#x4E86;&#x7576;&#x524D;&#x9032;&#x7A0B;ID
1481
$ ps -C bash   # &#x901A;&#x904E;PS&#x547D;&#x4EE4;&#x67E5;&#x770B;
  PID TTY          TIME CMD
 1481 pts/0    00:00:00 bash
</code></pre><p>&#x5F9E;&#x4E0A;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x7D50;&#x679C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x7576;&#x524D;&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;&#x5BE6;&#x969B;&#x4E0A;&#x662F;&#x4E00;&#x500B;&#x7A0B;&#x5E8F;&#xFF0C;&#x90A3;&#x5C31;&#x662F; <code>/bin/bash</code>&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x500B;&#x5BE6;&#x5BE6;&#x5728;&#x5728;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x5B83;&#x6253;&#x5370;&#x63D0;&#x793A;&#x7B26;&#xFF0C;&#x63A5;&#x53D7;&#x7528;&#x6236;&#x8F38;&#x5165;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5206;&#x6790;&#x547D;&#x4EE4;&#x5E8F;&#x5217;&#x4E26;&#x57F7;&#x884C;&#x7136;&#x5F8C;&#x8FD4;&#x56DE;&#x7D50;&#x679C;&#x3002;&#x4E0D;&#x904E; <code>/bin/bash</code> &#x50C5;&#x50C5;&#x662F;&#x7576;&#x524D;&#x4F7F;&#x7528;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x7A0B;&#x5E8F;&#x4E4B;&#x4E00;&#xFF0C;&#x9084;&#x6709;&#x5F88;&#x591A;&#x5177;&#x6709;&#x985E;&#x4F3C;&#x529F;&#x80FD;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x6BD4;&#x5982; <code>/bin/ash</code>, <code>/bin/dash</code> &#x7B49;&#x3002;&#x4E0D;&#x904E;&#x9019;&#x88E1;&#x4E3B;&#x8981;&#x4F86;&#x8A0E;&#x8AD6; <code>bash</code>&#xFF0C;&#x8A0E;&#x8AD6;&#x5B83;&#x81EA;&#x5DF1;&#x662F;&#x600E;&#x9EBC;&#x555F;&#x52D5;&#x7684;&#xFF0C;&#x5B83;&#x600E;&#x9EBC;&#x6A23;&#x8655;&#x7406;&#x7528;&#x6236;&#x8F38;&#x5165;&#x7684;&#x547D;&#x4EE4;&#x7B49;&#x5F8C;&#x81FA;&#x7D30;&#x7BC0;&#xFF1F;</p>
<p><span id="toc_16100_6031_2"></span></p>
<h2 id="-bin-bash-%E6%98%AF%E4%BB%80%E9%BA%BC%E6%99%82%E5%80%99%E5%95%9F%E5%8B%95%E7%9A%84">/bin/bash &#x662F;&#x4EC0;&#x9EBC;&#x6642;&#x5019;&#x555F;&#x52D5;&#x7684;</h2>
<p><span id="toc_16100_6031_3"></span></p>
<h3 id="-bin-login">/bin/login</h3>
<p>&#x5148;&#x901A;&#x904E; <code>CTRL+ALT+F1</code> &#x5207;&#x63DB;&#x5230;&#x4E00;&#x500B;&#x666E;&#x901A;&#x7D42;&#x7AEF;&#x4E0B;&#x9762;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x6CC1;&#x4E0B;&#x770B;&#x5230;&#x7684;&#x662F; &quot;XXX login: &quot; &#x63D0;&#x793A;&#x8F38;&#x5165;&#x7528;&#x6236;&#x540D;&#xFF0C;&#x63A5;&#x8457;&#x662F;&#x63D0;&#x793A;&#x8F38;&#x5165;&#x5BC6;&#x78BC;&#xFF0C;&#x7136;&#x5F8C;&#x5462;&#xFF1F;&#x5C31;&#x76F4;&#x63A5;&#x767B;&#x9304;&#x5230;&#x4E86;&#x6211;&#x5011;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;&#x3002;&#x5BE6;&#x969B;&#x4E0A;&#x6B63;&#x662F;&#x4F60;&#x8F38;&#x5165;&#x6B63;&#x78BA;&#x7684;&#x5BC6;&#x78BC;&#x5F8C;&#xFF0C;&#x90A3;&#x500B;&#x7A0B;&#x5E8F;&#x624D;&#x628A; <code>/bin/bash</code> &#x7D66;&#x555F;&#x52D5;&#x4E86;&#x3002;&#x90A3;&#x662F;&#x4EC0;&#x9EBC;&#x6771;&#x897F;&#x63D0;&#x793A; &quot;XXX login:&quot; &#x7684;&#x5462;&#xFF1F;&#x6B63;&#x662F; <code>/bin/login</code> &#x7A0B;&#x5E8F;&#xFF0C;&#x90A3; <code>/bin/login</code> &#x7A0B;&#x5E8F;&#x600E;&#x9EBC;&#x77E5;&#x9053;&#x8981;&#x555F;&#x52D5; <code>/bin/bash</code>&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5176;&#x4ED6;&#x7684; <code>/bin/dash</code> &#x5462;&#xFF1F;</p>
<p><code>/bin/login</code> &#x7A0B;&#x5E8F;&#x5BE6;&#x969B;&#x4E0A;&#x6703;&#x6AA2;&#x67E5;&#x6211;&#x5011;&#x7684; <code>/etc/passwd</code> &#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x9019;&#x500B;&#x6587;&#x4EF6;&#x88E1;&#x982D;&#x5305;&#x542B;&#x4E86;&#x7528;&#x6236;&#x540D;&#x3001;&#x5BC6;&#x78BC;&#x548C;&#x8A72;&#x7528;&#x6236;&#x7684;&#x767B;&#x9304; Shell&#x3002;&#x5BC6;&#x78BC;&#x548C;&#x7528;&#x6236;&#x540D;&#x5339;&#x914D;&#x7528;&#x6236;&#x7684;&#x767B;&#x9304;&#xFF0C;&#x800C;&#x767B;&#x9304; Shell &#x5247;&#x4F5C;&#x70BA;&#x7528;&#x6236;&#x767B;&#x9304;&#x5F8C;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x7A0B;&#x5E8F;&#x3002;&#x770B;&#x770B; <code>/etc/passwd</code> &#x4E2D;&#x5178;&#x578B;&#x7684;&#x9019;&#x9EBC;&#x4E00;&#x884C;&#xFF1A;</p>
<pre><code>$ cat /etc/passwd | grep falcon
falcon:x:1000:1000:falcon,,,:/home/falcon:/bin/bash
</code></pre><p>&#x9019;&#x500B;&#x662F;&#x6211;&#x7528;&#x7684;&#x5E33;&#x865F;&#x7684;&#x76F8;&#x95DC;&#x4FE1;&#x606F;&#x54E6;&#xFF0C;&#x770B;&#x5230;&#x6700;&#x5F8C;&#x4E00;&#x884C;&#x6C92;&#xFF1F;<code>/bin/bash</code>&#xFF0C;&#x9019;&#x6B63;&#x662F;&#x6211;&#x767B;&#x9304;&#x7528;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x89E3;&#x91CB;&#x7A0B;&#x5E8F;&#x3002;&#x81F3;&#x65BC;&#x5BC6;&#x78BC;&#x5462;&#xFF0C;&#x770B;&#x5230;&#x90A3;&#x500B; <strong><code>x</code></strong> &#x6C92;&#xFF1F;&#x9019;&#x500B; <code>x</code> &#x8AAA;&#x660E;&#x6211;&#x7684;&#x5BC6;&#x78BC;&#x88AB;&#x4FDD;&#x5B58;&#x5728;&#x53E6;&#x5916;&#x4E00;&#x500B;&#x6587;&#x4EF6;&#x88E1;&#x982D; <code>/etc/shadow</code>&#xFF0C;&#x800C;&#x4E14;&#x5BC6;&#x78BC;&#x662F;&#x7D93;&#x904E;&#x52A0;&#x5BC6;&#x7684;&#x3002;&#x81F3;&#x65BC;&#x9019;&#x5169;&#x500B;&#x6587;&#x4EF6;&#x7684;&#x66F4;&#x591A;&#x7D30;&#x7BC0;&#xFF0C;&#x770B;&#x624B;&#x518A;&#x5427;&#x3002;</p>
<p>&#x6211;&#x5011;&#x600E;&#x9EBC;&#x77E5;&#x9053;&#x525B;&#x597D;&#x662F; <code>/bin/login</code> &#x6253;&#x5370;&#x4E86; &quot;XXX login&quot; &#x5462;&#xFF1F;&#x73FE;&#x5728;&#x56DE;&#x9867;&#x4E00;&#x4E0B;&#x5F88;&#x65E9;&#x4EE5;&#x524D;&#x5B78;&#x7FD2;&#x7684;&#x90A3;&#x500B; <code>strace</code> &#x547D;&#x4EE4;&#x3002;&#x6211;&#x5011;&#x53EF;&#x4EE5;&#x7528; <code>strace</code> &#x547D;&#x4EE4;&#x4F86;&#x8DDF;&#x8E64; <code>/bin/login</code> &#x7A0B;&#x5E8F;&#x7684;&#x57F7;&#x884C;&#x3002;</p>
<p>&#x8DDF;&#x4E0A;&#x9762;&#x4E00;&#x6A23;&#xFF0C;&#x5207;&#x63DB;&#x5230;&#x4E00;&#x500B;&#x666E;&#x901A;&#x7D42;&#x7AEF;&#xFF0C;&#x4E26;&#x5207;&#x63DB;&#x5230; Root &#x7528;&#x6236;&#xFF0C;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#xFF1A;</p>
<pre><code>$ strace -f -o strace.out /bin/login
</code></pre><p>&#x9000;&#x51FA;&#x4EE5;&#x5F8C;&#x5C31;&#x53EF;&#x4EE5;&#x6253;&#x958B; <code>strace.out</code> &#x6587;&#x4EF6;&#xFF0C;&#x770B;&#x770B;&#x5230;&#x5E95;&#x57F7;&#x884C;&#x4E86;&#x54EA;&#x4E9B;&#x6587;&#x4EF6;&#xFF0C;&#x8B80;&#x53D6;&#x4E86;&#x54EA;&#x4E9B;&#x6587;&#x4EF6;&#x3002;&#x5F9E;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6B63;&#x662F; <code>/bin/login</code> &#x7A0B;&#x5E8F;&#x7528; <code>execve</code> &#x8ABF;&#x7528;&#x4E86; <code>/bin/bash</code> &#x547D;&#x4EE4;&#x3002;&#x901A;&#x904E;&#x5F8C;&#x9762;&#x7684;&#x6F14;&#x793A;&#xFF0C;&#x53EF;&#x4EE5;&#x767C;&#x73FE; <code>/bin/login</code> &#x53EA;&#x662F;&#x5728;&#x5B50;&#x9032;&#x7A0B;&#x88E1;&#x982D;&#x7528; <code>execve</code> &#x8ABF;&#x7528;&#x4E86; <code>/bin/bash</code>&#xFF0C;&#x56E0;&#x70BA;&#x5728;&#x555F;&#x52D5; <code>/bin/bash</code> &#x5F8C;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230; <code>/bin/login</code> &#x4E26;&#x6C92;&#x6709;&#x9000;&#x51FA;&#x3002;</p>
<p><span id="toc_16100_6031_4"></span></p>
<h3 id="-bin-getty">/bin/getty</h3>
<p>&#x90A3; <code>/bin/login</code> &#x53C8;&#x662F;&#x600E;&#x9EBC;&#x8D77;&#x4F86;&#x7684;&#x5462;&#xFF1F;</p>
<p>&#x4E0B;&#x9762;&#x518D;&#x4F86;&#x770B;&#x4E00;&#x500B;&#x6F14;&#x793A;&#x3002;&#x5148;&#x5728;&#x4E00;&#x500B;&#x53EF;&#x4EE5;&#x767B;&#x9678;&#x7684;&#x7D42;&#x7AEF;&#x4E0B;&#x57F7;&#x884C;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x3002;</p>
<pre><code>$ getty 38400 tty8 linux
</code></pre><p><code>getty</code> &#x547D;&#x4EE4;&#x505C;&#x7559;&#x5728;&#x90A3;&#x88E1;&#xFF0C;&#x8C8C;&#x4F3C;&#x7B49;&#x5F85;&#x7528;&#x6236;&#x7684;&#x4EC0;&#x9EBC;&#x64CD;&#x4F5C;&#xFF0C;&#x73FE;&#x5728;&#x5207;&#x56DE;&#x5230;&#x7B2C; 8 &#x500B;&#x7D42;&#x7AEF;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x770B;&#x5230;&#x6709; &quot;XXX login:&quot; &#x7684;&#x63D0;&#x793A;&#x4E86;&#x3002;&#x8F38;&#x5165;&#x7528;&#x6236;&#x540D;&#x4E26;&#x767B;&#x9304;&#xFF0C;&#x4E4B;&#x5F8C;&#x9000;&#x51FA;&#xFF0C;&#x56DE;&#x5230;&#x7B2C;&#x4E00;&#x500B;&#x7D42;&#x7AEF;&#xFF0C;&#x767C;&#x73FE; <code>getty</code> &#x547D;&#x4EE4;&#x5DF2;&#x7D93;&#x9000;&#x51FA;&#x3002;</p>
<p>&#x985E;&#x4F3C;&#x5730;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528; <code>strace</code> &#x547D;&#x4EE4;&#x4F86;&#x8DDF;&#x8E64; <code>getty</code> &#x7684;&#x57F7;&#x884C;&#x904E;&#x7A0B;&#x3002;&#x5728;&#x7B2C;&#x4E00;&#x500B;&#x7D42;&#x7AEF;&#x4E0B;&#x5207;&#x63DB;&#x5230; Root &#x7528;&#x6236;&#x3002;&#x57F7;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;</p>
<pre><code>$ strace -f -o strace.out getty 38400 tty8 linux
</code></pre><p>&#x540C;&#x6A23;&#x5728; <code>strace.out</code> &#x547D;&#x4EE4;&#x4E2D;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x8A72;&#x547D;&#x4EE4;&#x7684;&#x76F8;&#x95DC;&#x555F;&#x52D5;&#x7D30;&#x7BC0;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6B63;&#x662F; <code>getty</code> &#x7A0B;&#x5E8F;&#x7528; <code>execve</code> &#x7CFB;&#x7D71;&#x8ABF;&#x7528;&#x57F7;&#x884C;&#x4E86; <code>/bin/login</code> &#x7A0B;&#x5E8F;&#x3002;&#x9019;&#x500B;&#x5730;&#x65B9;&#xFF0C;<code>getty</code> &#x662F;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x4E3B;&#x9032;&#x7A0B;&#x88E1;&#x982D;&#x76F4;&#x63A5;&#x57F7;&#x884C;&#x4E86; <code>/bin/login</code>&#xFF0C;&#x9019;&#x6A23; <code>/bin/login</code> &#x5C07;&#x628A; <code>getty</code> &#x7684;&#x9032;&#x7A0B;&#x7A7A;&#x9593;&#x66FF;&#x63DB;&#x6389;&#x3002;</p>
<p><span id="toc_16100_6031_5"></span></p>
<h3 id="-sbin-init">/sbin/init</h3>
<p>&#x9019;&#x88E1;&#x6D89;&#x53CA;&#x5230;&#x4E00;&#x500B;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x6771;&#x897F;&#xFF1A;<code>/sbin/init</code>&#xFF0C;&#x901A;&#x904E; <code>man init</code> &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5230;&#x8A72;&#x547D;&#x4EE4;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x5B83;&#x53EF;&#x662F;&#x201C;&#x842C;&#x7269;&#x4E4B;&#x738B;&#x201D;&#xFF08;init  is  the  parent of all processes on the system&#xFF09;&#x54E6;&#x3002;&#x5B83;&#x662F; Linux &#x7CFB;&#x7D71;&#x9ED8;&#x8A8D;&#x555F;&#x52D5;&#x7684;&#x7B2C;&#x4E00;&#x500B;&#x7A0B;&#x5E8F;&#xFF0C;&#x8CA0;&#x8CAC;&#x9032;&#x884C; Linux &#x7CFB;&#x7D71;&#x7684;&#x4E00;&#x4E9B;&#x521D;&#x59CB;&#x5316;&#x5DE5;&#x4F5C;&#xFF0C;&#x800C;&#x9019;&#x4E9B;&#x521D;&#x59CB;&#x5316;&#x5DE5;&#x4F5C;&#x7684;&#x914D;&#x7F6E;&#x5247;&#x662F;&#x901A;&#x904E; <code>/etc/inittab</code> &#x4F86;&#x505A;&#x7684;&#x3002;&#x90A3;&#x9EBC;&#x4F86;&#x770B;&#x770B; <code>/etc/inittab</code> &#x7684;&#x4E00;&#x500B;&#x7C21;&#x55AE;&#x7684;&#x4F8B;&#x5B50;&#x5427;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x904E; <code>man inittab</code> &#x67E5;&#x770B;&#x76F8;&#x95DC;&#x5E6B;&#x52A9;&#x3002;</p>
<p>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5728;&#x8F03;&#x65B0;&#x7248;&#x672C;&#x7684; Ubuntu &#x548C; Fedora &#x7B49;&#x767C;&#x884C;&#x7248;&#x4E2D;&#xFF0C;&#x4E00;&#x4E9B;&#x65B0;&#x7684; <code>init</code> &#x7A0B;&#x5E8F;&#xFF0C;&#x6BD4;&#x5982; <code>upstart</code> &#x548C; <code>systemd</code> &#x88AB;&#x958B;&#x767C;&#x51FA;&#x4F86;&#x7528;&#x65BC;&#x53D6;&#x4EE3; <code>System V init</code>&#xFF0C;&#x5B83;&#x5011;&#x53EF;&#x80FD;&#x653E;&#x68C4;&#x4E86;&#x5C0D; <code>/etc/inittab</code> &#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x4F8B;&#x5982; <code>upstart</code> &#x6703;&#x8B80;&#x53D6; <code>/etc/init/</code> &#x4E0B;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x6BD4;&#x5982; <code>/etc/init/tty1.conf</code>&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x57FA;&#x672C;&#x7684;&#x914D;&#x7F6E;&#x601D;&#x8DEF;&#x9084;&#x662F;&#x985E;&#x4F3C; <code>/etc/inittab</code>&#xFF0C;&#x5C0D;&#x65BC; <code>upstart</code> &#x7684; <code>init</code> &#x914D;&#x7F6E;&#xFF0C;&#x9019;&#x88E1;&#x4E0D;&#x505A;&#x4ECB;&#x7D39;&#xFF0C;&#x8ACB;&#x901A;&#x904E; <code>man 5 init</code> &#x67E5;&#x770B;&#x5E6B;&#x52A9;&#x3002;</p>
<p>&#x914D;&#x7F6E;&#x6587;&#x4EF6; <code>/etc/inittab</code> &#x7684;&#x8A9E;&#x6CD5;&#x975E;&#x5E38;&#x7C21;&#x55AE;&#xFF0C;&#x5C31;&#x662F;&#x4E0B;&#x9762;&#x4E00;&#x884C;&#x7684;&#x91CD;&#x8907;&#xFF0C;</p>
<pre><code>id:runlevels:action:process
</code></pre><ul>
<li><p><code>id</code> &#x5C31;&#x662F;&#x4E00;&#x500B;&#x552F;&#x4E00;&#x7684;&#x7DE8;&#x865F;&#xFF0C;&#x4E0D;&#x7528;&#x7BA1;&#x5B83;&#xFF0C;&#x4E00;&#x500B;&#x540D;&#x5B57;&#x800C;&#x8A00;&#xFF0C;&#x7121;&#x95DC;&#x7DCA;&#x8981;&#x3002;</p>
</li>
<li><p><code>runlevels</code> &#x662F;&#x904B;&#x884C;&#x7D1A;&#x5225;&#xFF0C;&#x9019;&#x500B;&#x9084;&#x662F;&#x6BD4;&#x8F03;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x7406;&#x89E3;&#x904B;&#x884C;&#x7D1A;&#x5225;&#x7684;&#x6982;&#x5FF5;&#x5F88;&#x6709;&#x5FC5;&#x8981;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x6709;&#x5982;&#x4E0B;&#x7684;&#x53D6;&#x503C;&#xFF1A;</p>
<pre><code>0 is halt.
1 is single-user.
2-5 are multi-user.
6 is reboot.
</code></pre><p>&#x4E0D;&#x904E;&#xFF0C;&#x771F;&#x6B63;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x88E1;&#x982D;&#x7528;&#x7684;&#x662F; <code>1-5</code> &#x4E86;&#xFF0C;&#x800C; <code>0</code> &#x548C; <code>6</code> &#x975E;&#x5E38;&#x7279;&#x5225;&#xFF0C;&#x9664;&#x4E86;&#x7528;&#x5B83;&#x4F5C;&#x70BA; <code>init</code> &#x547D;&#x4EE4;&#x7684;&#x53C3;&#x6578;&#x95DC;&#x6A5F;&#x548C;&#x91CD;&#x555F;&#x5916;&#xFF0C;&#x4F3C;&#x4E4E;&#x6C92;&#x6709;&#x54EA;&#x500B;&#x201C;&#x50BB;&#x74DC;&#x201D;&#x628A;&#x5B83;&#x5BEB;&#x5728;&#x7CFB;&#x7D71;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x88E1;&#x982D;&#xFF0C;&#x8B93;&#x7CFB;&#x7D71;&#x555F;&#x52D5;&#x4EE5;&#x5F8C;&#x5C31;&#x95DC;&#x6A5F;&#x6216;&#x8005;&#x91CD;&#x555F;&#x3002;<code>1</code> &#x4EE3;&#x8868;&#x55AE;&#x7528;&#x6236;&#xFF0C;&#x800C; <code>2-5</code> &#x5247;&#x4EE3;&#x8868;&#x591A;&#x7528;&#x6236;&#x3002;&#x5C0D;&#x65BC; <code>2-5</code> &#x53EF;&#x80FD;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x89E3;&#x91CB;&#xFF0C;&#x6BD4;&#x5982;&#x5728; Slackware 12.0 &#x4E0A;&#xFF0C;<code>2,3,5</code> &#x88AB;&#x7528;&#x4F86;&#x4F5C;&#x70BA;&#x591A;&#x7528;&#x6236;&#x6A21;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x9ED8;&#x8A8D;&#x4E0D;&#x555F;&#x52D5; X windows &#xFF08;GUI&#x63A5;&#x53E3;&#xFF09;&#xFF0C;&#x800C; <code>4</code> &#x5247;&#x4F5C;&#x70BA;&#x555F;&#x52D5; X windows &#x7684;&#x904B;&#x884C;&#x7D1A;&#x5225;&#x3002;</p>
</li>
<li><p><code>action</code> &#x662F;&#x52D5;&#x4F5C;&#xFF0C;&#x5B83;&#x4E5F;&#x6709;&#x5F88;&#x591A;&#x9078;&#x64C7;&#xFF0C;&#x6211;&#x5011;&#x95DC;&#x5FC3;&#x5E7E;&#x500B;&#x5E38;&#x7528;&#x7684;</p>
</li>
<li><p><code>initdefault</code>&#xFF1A;&#x7528;&#x4F86;&#x6307;&#x5B9A;&#x7CFB;&#x7D71;&#x555F;&#x52D5;&#x5F8C;&#x9032;&#x5165;&#x7684;&#x904B;&#x884C;&#x7D1A;&#x5225;&#xFF0C;&#x901A;&#x5E38;&#x5728; <code>/etc/inittab</code> &#x7684;&#x7B2C;&#x4E00;&#x689D;&#x914D;&#x7F6E;&#xFF0C;&#x5982;&#xFF1A;</p>
<pre><code>id:3:initdefault:
</code></pre><p>&#x9019;&#x500B;&#x8AAA;&#x660E;&#x9ED8;&#x8A8D;&#x904B;&#x884C;&#x7D1A;&#x5225;&#x662F; 3&#xFF0C;&#x5373;&#x591A;&#x7528;&#x6236;&#x6A21;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x555F;&#x52D5; X window &#x7684;&#x90A3;&#x7A2E;&#x3002;</p>
</li>
<li><p><code>sysinit</code>&#xFF1A;&#x6307;&#x5B9A;&#x90A3;&#x4E9B;&#x5728;&#x7CFB;&#x7D71;&#x555F;&#x52D5;&#x6642;&#x5C07;&#x88AB;&#x57F7;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>si:S:sysinit:/etc/rc.d/rc.S
</code></pre><p>&#x5728; <code>man inittab</code> &#x4E2D;&#x63D0;&#x5230;&#xFF0C;&#x5C0D;&#x65BC; <code>sysinit</code>&#xFF0C;<code>boot</code> &#x7B49;&#x52D5;&#x4F5C;&#xFF0C;<code>runlevels</code> &#x9078;&#x9805;&#x662F;&#x4E0D;&#x7528;&#x7BA1;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x89E3;&#x8B80;&#x9019;&#x689D;&#x914D;&#x7F6E;&#xFF1A;&#x5B83;&#x7684;&#x610F;&#x601D;&#x662F;&#x7CFB;&#x7D71;&#x555F;&#x52D5;&#x6642;&#x5C07;&#x9ED8;&#x8A8D;&#x57F7;&#x884C; <code>/etc/rc.d/rc.S</code> &#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x9019;&#x500B;&#x6587;&#x4EF6;&#x88E1;&#x53EF;&#x76F4;&#x63A5;&#x6216;&#x8005;&#x9593;&#x63A5;&#x5730;&#x57F7;&#x884C;&#x60F3;&#x8B93;&#x7CFB;&#x7D71;&#x555F;&#x52D5;&#x6642;&#x57F7;&#x884C;&#x7684;&#x4EFB;&#x4F55;&#x7A0B;&#x5E8F;&#xFF0C;&#x5B8C;&#x6210;&#x7CFB;&#x7D71;&#x7684;&#x521D;&#x59CB;&#x5316;&#x3002;</p>
</li>
<li><p><code>wait</code>&#xFF1A;&#x7576;&#x9032;&#x5165;&#x67D0;&#x500B;&#x7279;&#x5225;&#x7684;&#x904B;&#x884C;&#x7D1A;&#x5225;&#x6642;&#xFF0C;&#x6307;&#x5B9A;&#x7684;&#x7A0B;&#x5E8F;&#x5C07;&#x88AB;&#x57F7;&#x884C;&#x4E00;&#x6B21;&#xFF0C;<code>init</code> &#x5C07;&#x7B49;&#x5230;&#x5B83;&#x57F7;&#x884C;&#x5B8C;&#x6210;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>rc:2345:wait:/etc/rc.d/rc.M
</code></pre><p>&#x9019;&#x500B;&#x8AAA;&#x660E;&#x7121;&#x8AD6;&#x662F;&#x9032;&#x5165;&#x904B;&#x884C;&#x7D1A;&#x5225; 2&#xFF0C;3&#xFF0C;4&#xFF0C;5 &#x4E2D;&#x54EA;&#x4E00;&#x500B;&#xFF0C;<code>/etc/rc.d/rc.M</code> &#x5C07;&#x88AB;&#x57F7;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x4E26;&#x4E14;&#x6709; <code>init</code> &#x7B49;&#x5F85;&#x5B83;&#x57F7;&#x884C;&#x5B8C;&#x6210;&#x3002;</p>
</li>
<li><p><code>ctrlaltdel</code>&#xFF0C;&#x7576; <code>init</code> &#x7A0B;&#x5E8F;&#x63A5;&#x6536;&#x5230; <code>SIGINT</code> &#x4FE1;&#x865F;&#x6642;&#xFF0C;&#x67D0;&#x500B;&#x6307;&#x5B9A;&#x7684;&#x7A0B;&#x5E8F;&#x5C07;&#x88AB;&#x57F7;&#x884C;&#xFF0C;&#x6211;&#x5011;&#x901A;&#x5E38;&#x901A;&#x904E;&#x6309;&#x4E0B; <code>CTRL+ALT+DEL</code>&#xFF0C;&#x9019;&#x500B;&#x9ED8;&#x8A8D;&#x60C5;&#x6CC1;&#x4E0B;&#x5C07;&#x7D66; <code>init</code> &#x767C;&#x9001;&#x4E00;&#x500B; <code>SIGINT</code> &#x4FE1;&#x865F;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6211;&#x5011;&#x60F3;&#x5728;&#x6309;&#x4E0B;&#x9019;&#x5E7E;&#x500B;&#x9375;&#x6642;&#xFF0C;&#x7CFB;&#x7D71;&#x91CD;&#x555F;&#xFF0C;&#x90A3;&#x9EBC;&#x53EF;&#x4EE5;&#x5728; <code>/etc/inittab</code> &#x4E2D;&#x5BEB;&#x5165;&#xFF1A;</p>
<pre><code>ca::ctrlaltdel:/sbin/shutdown -t5 -r now
</code></pre></li>
<li><p><code>respawn</code>&#xFF1A;&#x9019;&#x500B;&#x6307;&#x5B9A;&#x7684;&#x9032;&#x7A0B;&#x5C07;&#x88AB;&#x91CD;&#x555F;&#xFF0C;&#x4EFB;&#x4F55;&#x6642;&#x5019;&#x7576;&#x5B83;&#x9000;&#x51FA;&#x6642;&#x3002;&#x9019;&#x610F;&#x5473;&#x8457;&#x6C92;&#x6709;&#x8FA6;&#x6CD5;&#x7D50;&#x675F;&#x5B83;&#xFF0C;&#x9664;&#x975E; <code>init</code> &#x81EA;&#x5DF1;&#x7D50;&#x675F;&#x4E86;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>c1:1235:respawn:/sbin/agetty 38400 tty1 linux
</code></pre><p>&#x9019;&#x4E00;&#x884C;&#x7684;&#x610F;&#x601D;&#x975E;&#x5E38;&#x7C21;&#x55AE;&#xFF0C;&#x5C31;&#x662F;&#x7CFB;&#x7D71;&#x904B;&#x884C;&#x5728;&#x7D1A;&#x5225; 1&#xFF0C;2&#xFF0C;3&#xFF0C;5 &#x6642;&#xFF0C;&#x5C07;&#x9ED8;&#x8A8D;&#x57F7;&#x884C; <code>/sbin/agetty</code> &#x7A0B;&#x5E8F;&#xFF08;&#x9019;&#x500B;&#x985E;&#x4F3C;&#x65BC;&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684; <code>getty</code> &#x7A0B;&#x5E8F;&#xFF09;&#xFF0C;&#x9019;&#x500B;&#x7A0B;&#x5E8F;&#x975E;&#x5E38;&#x6709;&#x610F;&#x601D;&#xFF0C;&#x5C31;&#x662F;&#x7121;&#x8AD6;&#x4EC0;&#x9EBC;&#x6642;&#x5019;&#x5B83;&#x9000;&#x51FA;&#xFF0C;<code>init</code> &#x5C07;&#x518D;&#x6B21;&#x555F;&#x52D5;&#x5B83;&#x3002;&#x9019;&#x500B;&#x6709;&#x5E7E;&#x500B;&#x6BD4;&#x8F03;&#x6709;&#x610F;&#x601D;&#x7684;&#x554F;&#x984C;&#xFF1A;</p>
</li>
<li><p>&#x5728; Slackware 12.0 &#x4E0B;&#xFF0C;&#x7576;&#x9ED8;&#x8A8D;&#x904B;&#x884C;&#x7D1A;&#x5225;&#x70BA; 4 &#x6642;&#xFF0C;&#x53EA;&#x6709;&#x7B2C; 6 &#x500B;&#x7D42;&#x7AEF;&#x53EF;&#x4EE5;&#x7528;&#x3002;&#x539F;&#x56E0;&#x662F;&#x4EC0;&#x9EBC;&#x5462;&#xFF1F;&#x56E0;&#x70BA;&#x985E;&#x4F3C;&#x4E0A;&#x9762;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x56E0;&#x70BA;&#x90A3;&#x88E1;&#x53EA;&#x6709; <code>1235</code>&#xFF0C;&#x800C;&#x6C92;&#x6709; <code>4</code>&#xFF0C;&#x9019;&#x610F;&#x5473;&#x8457;&#x7576;&#x7CFB;&#x7D71;&#x904B;&#x884C;&#x5728;&#x7B2C; <code>4</code> &#x7D1A;&#x5225;&#x6642;&#xFF0C;&#x5176;&#x4ED6;&#x7D42;&#x7AEF;&#x4E0B;&#x7684; <code>/sbin/agetty</code> &#x6C92;&#x6709;&#x555F;&#x52D5;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8B93;&#x5176;&#x4ED6;&#x7D42;&#x7AEF;&#x90FD;&#x53EF;&#x4EE5;&#x7528;&#xFF0C;&#x628A; <code>1235</code> &#x4FEE;&#x6539;&#x70BA; <code>12345</code> &#x5373;&#x53EF;&#x3002;</p>
</li>
<li>&#x53E6;&#x5916;&#x4E00;&#x500B;&#x6709;&#x8DA3;&#x7684;&#x554F;&#x984C;&#x5C31;&#x662F;&#xFF1A;&#x6B63;&#x662F; <code>init</code> &#x7A0B;&#x5E8F;&#x5728;&#x8B80;&#x53D6;&#x9019;&#x500B;&#x914D;&#x7F6E;&#x884C;&#x4EE5;&#x5F8C;&#x555F;&#x52D5;&#x4E86; <code>/sbin/agetty</code>&#xFF0C;&#x9019;&#x5C31;&#x662F; <code>/sbin/agetty</code> &#x7684;&#x7955;&#x5BC6;&#x3002;</li>
<li>&#x9084;&#x6709;&#x4E00;&#x500B;&#x554F;&#x984C;&#xFF1A;&#x7121;&#x8AD6;&#x9000;&#x51FA;&#x54EA;&#x500B;&#x7D42;&#x7AEF;&#xFF0C;&#x90A3;&#x500B; &quot;XXX login:&quot; &#x7E3D;&#x662F;&#x6703;&#x88AB;&#x6253;&#x5370;&#xFF0C;&#x539F;&#x56E0;&#x662F; <code>respawn</code> &#x52D5;&#x4F5C;&#x6709;&#x8DA3;&#x7684;&#x6027;&#x8CEA;&#xFF0C;&#x56E0;&#x70BA;&#x5B83;&#x544A;&#x8A34; <code>init</code>&#xFF0C;&#x7121;&#x8AD6; <code>/sbin/agetty</code> &#x4EC0;&#x9EBC;&#x6642;&#x5019;&#x9000;&#x51FA;&#xFF0C;&#x91CD;&#x65B0;&#x628A;&#x5B83;&#x555F;&#x52D5;&#x8D77;&#x4F86;&#xFF0C;&#x90A3;&#x8DDF; &quot;XXX login:&quot; &#x6709;&#x4EC0;&#x9EBC;&#x95DC;&#x4FC2;&#x5462;&#xFF1F;&#x5F9E;&#x524D;&#x9762;&#x7684;&#x5167;&#x5BB9;&#xFF0C;&#x6211;&#x5011;&#x767C;&#x73FE;&#x6B63;&#x662F; <code>/sbin/getty</code> &#xFF08;&#x540C; <code>agetty</code>&#xFF09;&#x555F;&#x52D5;&#x4E86; <code>/bin/login</code>&#xFF0C;&#x800C; <code>/bin/login</code> &#x53C8;&#x555F;&#x52D5;&#x4E86; <code>/bin/bash</code>&#xFF0C;&#x5373;&#x6211;&#x5011;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x7A0B;&#x5E8F;&#x3002;</li>
</ul>
<p><span id="toc_16100_6031_6"></span></p>
<h3 id="%E5%91%BD%E4%BB%A4%E5%95%9F%E5%8B%95%E9%81%8E%E7%A8%8B%E8%BF%BD%E6%9C%AC%E6%BA%AF%E6%BA%90">&#x547D;&#x4EE4;&#x555F;&#x52D5;&#x904E;&#x7A0B;&#x8FFD;&#x672C;&#x6EAF;&#x6E90;</h3>
<p>&#x800C; <code>init</code> &#x7A0B;&#x5E8F;&#x4F5C;&#x70BA;&#x201C;&#x842C;&#x7269;&#x4E4B;&#x738B;&#x201D;&#xFF0C;&#x5B83;&#x662F;&#x6240;&#x6709;&#x9032;&#x7A0B;&#x7684;&#x201C;&#x7236;&#x201D;&#xFF08;&#x4E5F;&#x53EF;&#x80FD;&#x662F;&#x7956;&#x7236;&#x2026;&#x2026;&#xFF09;&#x9032;&#x7A0B;&#xFF0C;&#x90A3;&#x610F;&#x5473;&#x8457;&#x5176;&#x4ED6;&#x9032;&#x7A0B;&#x6700;&#x591A;&#x96BB;&#x80FD;&#x662F;&#x5B83;&#x7684;&#x5152;&#x5B50;&#x9032;&#x7A0B;&#x3002;&#x800C;&#x9019;&#x500B;&#x5B50;&#x9032;&#x7A0B;&#x662F;&#x600E;&#x9EBC;&#x5275;&#x5EFA;&#x7684;&#xFF0C;<code>fork</code> &#x8ABF;&#x7528;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4E4B;&#x524D;&#x63D0;&#x5230;&#x7684; <code>execve</code> &#x8ABF;&#x7528;&#x3002;&#x524D;&#x8005;&#x5275;&#x5EFA;&#x4E00;&#x500B;&#x5B50;&#x9032;&#x7A0B;&#xFF0C;&#x5F8C;&#x8005;&#x5247;&#x6703;&#x8986;&#x84CB;&#x7576;&#x524D;&#x9032;&#x7A0B;&#x3002;&#x56E0;&#x70BA;&#x6211;&#x5011;&#x767C;&#x73FE; <code>/sbin/getty</code> &#x904B;&#x884C;&#x6642;&#xFF0C;<code>init</code> &#x4E26;&#x6C92;&#x6709;&#x9000;&#x51FA;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x5224;&#x65B7;&#x662F; <code>fork</code> &#x8ABF;&#x7528;&#x5275;&#x5EFA;&#x4E00;&#x500B;&#x5B50;&#x9032;&#x7A0B;&#x5F8C;&#xFF0C;&#x624D;&#x901A;&#x904E; <code>execve</code> &#x57F7;&#x884C;&#x4E86; <code>/sbin/getty</code>&#x3002;</p>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x53EF;&#x4EE5;&#x7E3D;&#x7D50;&#x51FA;&#x9019;&#x9EBC;&#x4E00;&#x500B;&#x8ABF;&#x7528;&#x904E;&#x7A0B;&#xFF1A;</p>
<pre><code>     fork     execve         execve         fork           execve
init --&gt; init --&gt; /sbin/getty --&gt; /bin/login --&gt; /bin/login --&gt; /bin/bash
</code></pre><p>&#x9019;&#x88E1;&#x7684; <code>execve</code> &#x8ABF;&#x7528;&#x4EE5;&#x5F8C;&#xFF0C;&#x5F8C;&#x8005;&#x5C07;&#x76F4;&#x63A5;&#x66FF;&#x63DB;&#x524D;&#x8005;&#xFF0C;&#x56E0;&#x6B64;&#x7576;&#x9375;&#x5165; <code>exit</code> &#x9000;&#x51FA; <code>/bin/bash</code> &#x4EE5;&#x5F8C;&#xFF0C;&#x4E5F;&#x5C31;&#x76F8;&#x7576;&#x65BC; <code>/sbin/getty</code> &#x90FD;&#x5DF2;&#x7D93;&#x7D50;&#x675F;&#x4E86;&#xFF0C;&#x56E0;&#x6B64;&#x6700;&#x524D;&#x9762;&#x7684; <code>init</code> &#x7A0B;&#x5E8F;&#x5224;&#x65B7; <code>/sbin/getty</code> &#x9000;&#x51FA;&#x4E86;&#xFF0C;&#x53C8;&#x6703;&#x5275;&#x5EFA;&#x4E00;&#x500B;&#x5B50;&#x9032;&#x7A0B;&#x628A; <code>/sbin/getty</code> &#x555F;&#x52D5;&#xFF0C;&#x9032;&#x800C;&#x53C8;&#x555F;&#x52D5;&#x4E86; <code>/bin/login</code>&#xFF0C;&#x53C8;&#x770B;&#x5230;&#x4E86;&#x90A3;&#x500B; &quot;XXX login:&quot;&#x3002;</p>
<p>&#x901A;&#x904E; <code>ps</code> &#x548C; <code>pstree</code> &#x547D;&#x4EE4;&#x770B;&#x770B;&#x5BE6;&#x969B;&#x60C5;&#x6CC1;&#x662F;&#x4E0D;&#x662F;&#x9019;&#x6A23;&#xFF0C;&#x524D;&#x8005;&#x6253;&#x5370;&#x51FA;&#x9032;&#x7A0B;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5F8C;&#x8005;&#x5247;&#x6253;&#x5370;&#x51FA;&#x8ABF;&#x7528;&#x95DC;&#x4FC2;&#x3002;</p>
<pre><code>$ ps -ef | egrep &quot;/sbin/init|/sbin/getty|bash|/bin/login&quot;
root         1     0  0 21:43 ?        00:00:01 /sbin/init
root      3957     1  0 21:43 tty4     00:00:00 /sbin/getty 38400 tty4
root      3958     1  0 21:43 tty5     00:00:00 /sbin/getty 38400 tty5
root      3963     1  0 21:43 tty3     00:00:00 /sbin/getty 38400 tty3
root      3965     1  0 21:43 tty6     00:00:00 /sbin/getty 38400 tty6
root      7023     1  0 22:48 tty1     00:00:00 /sbin/getty 38400 tty1
root      7081     1  0 22:51 tty2     00:00:00 /bin/login --
falcon    7092  7081  0 22:52 tty2     00:00:00 -bash
</code></pre><p>&#x4E0A;&#x9762;&#x7684;&#x7D50;&#x679C;&#x5DF2;&#x7D93;&#x904E;&#x6FFE;&#x4E86;&#x4E00;&#x4E9B;&#x4E0D;&#x76F8;&#x5E72;&#x7684;&#x6578;&#x64DA;&#x3002;&#x5F9E;&#x4E0A;&#x9762;&#x7684;&#x7D50;&#x679C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x9664;&#x4E86; <code>tty2</code> &#x88AB;&#x66FF;&#x63DB;&#x6210; <code>/bin/login</code> &#x5916;&#xFF0C;&#x5176;&#x4ED6;&#x7D42;&#x7AEF;&#x90FD;&#x904B;&#x884C;&#x8457; <code>/sbin/getty</code>&#xFF0C;&#x8AAA;&#x660E;&#x7D42;&#x7AEF; 2 &#x4E0A;&#x7684;&#x9032;&#x7A0B;&#x662F; <code>/bin/login</code>&#xFF0C;&#x5B83;&#x5DF2;&#x7D93;&#x628A; <code>/sbin/getty</code> &#x66FF;&#x63DB;&#x6389;&#xFF0C;&#x53E6;&#x5916;&#xFF0C;&#x6211;&#x5011;&#x770B;&#x5230; <code>-bash</code> &#x9032;&#x7A0B;&#x7684;&#x7236;&#x9032;&#x7A0B;&#x662F; <code>7081</code> &#x525B;&#x597D;&#x662F; <code>/bin/login</code> &#x7A0B;&#x5E8F;&#xFF0C;&#x9019;&#x8AAA;&#x660E; <code>/bin/login</code> &#x555F;&#x52D5;&#x4E86; <code>-bash</code>&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4E26;&#x6C92;&#x6709;&#x66FF;&#x63DB;&#x6389; <code>/bin/login</code>&#xFF0C;&#x800C;&#x662F;&#x6210;&#x70BA;&#x4E86; <code>/bin/login</code> &#x7684;&#x5B50;&#x9032;&#x7A0B;&#xFF0C;&#x9019;&#x8AAA;&#x660E; <code>/bin/login</code> &#x901A;&#x904E; <code>fork</code> &#x5275;&#x5EFA;&#x4E86;&#x4E00;&#x500B;&#x5B50;&#x9032;&#x7A0B;&#x4E26;&#x901A;&#x904E; <code>execve</code> &#x57F7;&#x884C;&#x4E86; <code>-bash</code>&#xFF08;&#x5F8C;&#x8005;&#x901A;&#x904E; <code>strace</code>&#x8DDF;&#x8E64;&#x5230;&#xFF09;&#x3002;&#x800C; <code>init</code> &#x5462;&#xFF0C;&#x5176;&#x9032;&#x7A0B; ID &#x662F; 1&#xFF0C;&#x662F; <code>/sbin/getty</code> &#x548C; <code>/bin/login</code> &#x7684;&#x7236;&#x9032;&#x7A0B;&#xFF0C;&#x8AAA;&#x660E; <code>init</code> &#x555F;&#x52D5;&#x6216;&#x8005;&#x9593;&#x63A5;&#x555F;&#x52D5;&#x4E86;&#x5B83;&#x5011;&#x3002;&#x4E0B;&#x9762;&#x901A;&#x904E; <code>pstree</code> &#x4F86;&#x67E5;&#x770B;&#x8ABF;&#x7528;&#x6A39;&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x6E05;&#x6670;&#x5730;&#x770B;&#x51FA;&#x4E0A;&#x8FF0;&#x95DC;&#x4FC2;&#x3002;</p>
<pre><code>$ pstree | egrep &quot;init|getty|\-bash|login&quot;
init-+-5*[getty]
     |-login---bash
     |-xfce4-terminal-+-bash-+-grep
</code></pre><p>&#x7D50;&#x679C;&#x986F;&#x793A; <code>init</code> &#x662F; 5 &#x500B; <code>getty</code> &#x7A0B;&#x5E8F;&#xFF0C;<code>login</code> &#x7A0B;&#x5E8F;&#x548C; <code>xfce4-terminal</code> &#x7684;&#x7236;&#x9032;&#x7A0B;&#xFF0C;&#x800C;&#x5F8C;&#x5169;&#x8005;&#x5247;&#x662F; <code>bash</code> &#x7684;&#x7236;&#x9032;&#x7A0B;&#xFF0C;&#x53E6;&#x5916;&#x6211;&#x5011;&#x57F7;&#x884C;&#x7684; <code>grep</code> &#x547D;&#x4EE4;&#x5247;&#x5728; <code>bash</code> &#x4E0A;&#x904B;&#x884C;&#xFF0C;&#x662F; <code>bash</code> &#x7684;&#x5B50;&#x9032;&#x7A0B;&#xFF0C;&#x9019;&#x500B;&#x5C07;&#x662F;&#x6211;&#x5011;&#x5F8C;&#x9762;&#x95DC;&#x5FC3;&#x7684;&#x554F;&#x984C;&#x3002;</p>
<p>&#x5F9E;&#x4E0A;&#x9762;&#x7684;&#x7D50;&#x679C;&#x767C;&#x73FE;&#xFF0C;<code>init</code> &#x4F5C;&#x70BA;&#x6240;&#x6709;&#x9032;&#x7A0B;&#x7684;&#x7236;&#x9032;&#x7A0B;&#xFF0C;&#x5B83;&#x7684;&#x7236;&#x9032;&#x7A0B; ID &#x9952;&#x6709;&#x8208;&#x8DA3;&#x7684;&#x662F; 0&#xFF0C;&#x5B83;&#x662F;&#x600E;&#x9EBC;&#x88AB;&#x555F;&#x52D5;&#x7684;&#x5462;&#xFF1F;&#x8AB0;&#x624D;&#x662F;&#x771F;&#x6B63;&#x7684;&#x201C;&#x9020;&#x7269;&#x4E3B;&#x201D;&#xFF1F;</p>
<p><span id="toc_16100_6031_7"></span></p>
<h3 id="%E8%AA%B0%E5%95%9F%E5%8B%95%E4%BA%86-sbin-init">&#x8AB0;&#x555F;&#x52D5;&#x4E86; /sbin/init</h3>
<p>&#x5982;&#x679C;&#x7528;&#x904E; <code>Lilo</code> &#x6216;&#x8005; <code>Grub</code> &#x9019;&#x4E9B;&#x64CD;&#x4F5C;&#x7CFB;&#x7D71;&#x5F15;&#x5C0E;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EF;&#x80FD;&#x6703;&#x7528;&#x5230; Linux &#x5167;&#x6838;&#x7684;&#x4E00;&#x500B;&#x555F;&#x52D5;&#x53C3;&#x6578; <code>init</code>&#xFF0C;&#x7576;&#x5FD8;&#x8A18;&#x5BC6;&#x78BC;&#x6642;&#xFF0C;&#x53EF;&#x80FD;&#x6703;&#x628A;&#x9019;&#x500B;&#x53C3;&#x6578;&#x8A2D;&#x7F6E;&#x6210; <code>/bin/bash</code>&#xFF0C;&#x8B93;&#x7CFB;&#x7D71;&#x76F4;&#x63A5;&#x9032;&#x5165;&#x547D;&#x4EE4;&#x884C;&#xFF0C;&#x800C;&#x7121;&#x9808;&#x8F38;&#x5165;&#x5E33;&#x865F;&#x548C;&#x5BC6;&#x78BC;&#xFF0C;&#x9019;&#x6A23;&#x5C31;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x628A;&#x767B;&#x9304;&#x5BC6;&#x78BC;&#x4FEE;&#x6539;&#x6389;&#x3002;</p>
<p>&#x9019;&#x500B; <code>init</code> &#x53C3;&#x6578;&#x662F;&#x500B;&#x4EC0;&#x9EBC;&#x6771;&#x897F;&#x5462;&#xFF1F;&#x901A;&#x904E; <code>man bootparam</code> &#x6703;&#x767C;&#x73FE;&#x5B83;&#x7684;&#x7955;&#x5BC6;&#xFF0C;<code>init</code> &#x53C3;&#x6578;&#x6B63;&#x597D;&#x6307;&#x5B9A;&#x4E86;&#x5167;&#x6838;&#x555F;&#x52D5;&#x5F8C;&#x8981;&#x555F;&#x52D5;&#x7684;&#x7B2C;&#x4E00;&#x500B;&#x7A0B;&#x5E8F;&#xFF0C;&#x800C;&#x5982;&#x679C;&#x6C92;&#x6709;&#x6307;&#x5B9A;&#x8A72;&#x53C3;&#x6578;&#xFF0C;&#x5167;&#x6838;&#x5C07;&#x4F9D;&#x6B21;&#x67E5;&#x627E; <code>/sbin/init</code>&#xFF0C;<code>/etc/init</code>&#xFF0C;<code>/bin/init</code>&#xFF0C;<code>/bin/sh</code>&#xFF0C;&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x9019;&#x5E7E;&#x500B;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x4E00;&#x500B;&#xFF0C;&#x5167;&#x6838;&#x5C31;&#x8981;&#x6050;&#x614C;&#xFF08;panic&#xFF09;&#x4E86;&#xFF0C;&#x4E26;&#x639B;&#xFF08;hang&#xFF09;&#x5728;&#x90A3;&#x88E1;&#x4E00;&#x52D5;&#x4E0D;&#x52D5;&#x4E86;&#xFF08;&#x6CE8;&#xFF1A;&#x5982;&#x679C; <code>panic=timeout</code> &#x88AB;&#x50B3;&#x905E;&#x7D66;&#x5167;&#x6838;&#x4E26;&#x4E14; <code>timeout</code> &#x5927;&#x65BC; 0&#xFF0C;&#x90A3;&#x9EBC;&#x5C31;&#x4E0D;&#x6703;&#x639B;&#x4F4F;&#x800C;&#x662F;&#x91CD;&#x555F;&#xFF09;&#x3002;</p>
<p>&#x56E0;&#x6B64; <code>/sbin/init</code> &#x5C31;&#x662F; Linux &#x5167;&#x6838;&#x555F;&#x52D5;&#x7684;&#x3002;&#x800C; Linux &#x5167;&#x6838;&#x5462;&#xFF1F;&#x662F;&#x901A;&#x904E; <code>Lilo</code> &#x6216;&#x8005; <code>Grub</code> &#x7B49;&#x5F15;&#x5C0E;&#x7A0B;&#x5E8F;&#x555F;&#x52D5;&#x7684;&#xFF0C;<code>Lilo</code> &#x548C; <code>Grub</code> &#x90FD;&#x6709;&#x76F8;&#x61C9;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4E00;&#x822C;&#x5C0D;&#x61C9; <code>/etc/lilo.conf</code> &#x548C; <code>/boot/grub/menu.lst</code>&#xFF0C;&#x901A;&#x904E;&#x9019;&#x4E9B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x5167;&#x6838;&#x6620;&#x50CF;&#x6587;&#x4EF6;&#x3001;&#x7CFB;&#x7D71;&#x6839;&#x76EE;&#x9304;&#x6240;&#x5728;&#x5206;&#x5340;&#x3001;&#x555F;&#x52D5;&#x9078;&#x9805;&#x6A19;&#x7C64;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x5F9E;&#x800C;&#x80FD;&#x5920;&#x8B93;&#x5B83;&#x5011;&#x9806;&#x5229;&#x628A;&#x5167;&#x6838;&#x555F;&#x52D5;&#x8D77;&#x4F86;&#x3002;</p>
<p>&#x90A3; <code>Lilo</code> &#x548C; <code>Grub</code> &#x672C;&#x8EAB;&#x53C8;&#x662F;&#x600E;&#x9EBC;&#x88AB;&#x904B;&#x884C;&#x8D77;&#x4F86;&#x7684;&#x5462;&#xFF1F;&#x6709;&#x4E86;&#x89E3; MBR &#x4E0D;&#xFF1F;MBR &#x5C31;&#x662F;&#x4E3B;&#x5F15;&#x5C0E;&#x6247;&#x5340;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x6CC1;&#x4E0B;&#x9019;&#x88E1;&#x5B58;&#x653E;&#x8457; <code>Lilo</code> &#x548C; <code>Grub</code> &#x7684;&#x4EE3;&#x78BC;&#xFF0C;&#x800C;&#x8AB0;&#x77E5;&#x9053;&#x6B63;&#x597D;&#x662F;&#x9019;&#x88E1;&#x5B58;&#x653E;&#x4E86;&#x5B83;&#x5011;&#x5462;&#xFF1F;BIOS&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7528;&#x5149;&#x76E4;&#x5B89;&#x88DD;&#x904E;&#x64CD;&#x4F5C;&#x7CFB;&#x7D71;&#x7684;&#x8A71;&#xFF0C;&#x90A3;&#x9EBC;&#x61C9;&#x8A72;&#x4FEE;&#x6539;&#x904E; <code>BIOS</code> &#x7684;&#x9ED8;&#x8A8D;&#x555F;&#x52D5;&#x8A2D;&#x7F6E;&#xFF0C;&#x901A;&#x904E;&#x8A2D;&#x7F6E;&#x53EF;&#x4EE5;&#x8B93;&#x7CFB;&#x7D71;&#x5F9E;&#x5149;&#x76E4;&#x3001;&#x786C;&#x76E4;&#x3001;U &#x76E4;&#x751A;&#x81F3;&#x8EDF;&#x76E4;&#x555F;&#x52D5;&#x3002;&#x6B63;&#x662F;&#x9019;&#x88E1;&#x7684;&#x8A2D;&#x7F6E;&#x8B93; BIOS &#x77E5;&#x9053;&#x4E86; MBR &#x8655;&#x7684;&#x4EE3;&#x78BC;&#x9700;&#x8981;&#x88AB;&#x57F7;&#x884C;&#x3002;</p>
<p>&#x90A3; BIOS &#x53C8;&#x662F;&#x4EC0;&#x9EBC;&#x6642;&#x5019;&#x88AB;&#x8D77;&#x4F86;&#x7684;&#x5462;&#xFF1F;&#x8655;&#x7406;&#x5668;&#x52A0;&#x96FB;&#x5F8C;&#x6709;&#x4E00;&#x500B;&#x9ED8;&#x8A8D;&#x7684;&#x8D77;&#x59CB;&#x5730;&#x5740;&#xFF0C;&#x4E00;&#x4E0A;&#x96FB;&#x5C31;&#x57F7;&#x884C;&#x5230;&#x4E86;&#x9019;&#x88E1;&#xFF0C;&#x518D;&#x4E4B;&#x524D;&#x5C31;&#x662F;&#x958B;&#x6A5F;&#x9375;&#x6309;&#x9375;&#x5F8C;&#x7684;&#x4E0A;&#x96FB;&#x6642;&#x5E8F;&#x3002;</p>
<p>&#x66F4;&#x591A;&#x7CFB;&#x7D71;&#x555F;&#x52D5;&#x7684;&#x7D30;&#x7BC0;&#xFF0C;&#x770B;&#x770B; <code>man boot-scripts</code> &#x5427;&#x3002;</p>
<p>&#x5230;&#x9019;&#x88E1;&#xFF0C;<code>/bin/bash</code> &#x7684;&#x795E;&#x7955;&#x9762;&#x7D17;&#x5C31;&#x88AB;&#x63ED;&#x958B;&#x4E86;&#xFF0C;&#x5B83;&#x53EA;&#x662F;&#x7CFB;&#x7D71;&#x555F;&#x52D5;&#x5F8C;&#x904B;&#x884C;&#x7684;&#x4E00;&#x500B;&#x7A0B;&#x5E8F;&#x800C;&#x5DF2;&#xFF0C;&#x53EA;&#x4E0D;&#x904E;&#x9019;&#x500B;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x97FF;&#x61C9;&#x7528;&#x6236;&#x7684;&#x8ACB;&#x6C42;&#xFF0C;&#x90A3;&#x5B83;&#x5230;&#x5E95;&#x662F;&#x5982;&#x4F55;&#x97FF;&#x61C9;&#x7528;&#x6236;&#x8ACB;&#x6C42;&#x7684;&#x5462;&#xFF1F;</p>
<p><span id="toc_16100_6031_8"></span></p>
<h2 id="-bin-bash-%E5%A6%82%E4%BD%95%E8%99%95%E7%90%86%E7%94%A8%E6%88%B6%E9%8D%B5%E5%85%A5%E7%9A%84%E5%91%BD%E4%BB%A4">/bin/bash &#x5982;&#x4F55;&#x8655;&#x7406;&#x7528;&#x6236;&#x9375;&#x5165;&#x7684;&#x547D;&#x4EE4;</h2>
<p><span id="toc_16100_6031_9"></span></p>
<h3 id="%E9%A0%90%E5%82%99%E7%9F%A5%E8%AD%98">&#x9810;&#x5099;&#x77E5;&#x8B58;</h3>
<p>&#x5728;&#x57F7;&#x884C;&#x78C1;&#x76E4;&#x4E0A;&#x67D0;&#x500B;&#x7A0B;&#x5E8F;&#x6642;&#xFF0C;&#x901A;&#x5E38;&#x4E0D;&#x6703;&#x6307;&#x5B9A;&#x9019;&#x500B;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x7684;&#x7D55;&#x5C0D;&#x8DEF;&#x5F91;&#xFF0C;&#x6BD4;&#x5982;&#x8981;&#x57F7;&#x884C; <code>echo</code> &#x547D;&#x4EE4;&#x6642;&#xFF0C;&#x4E00;&#x822C;&#x4E0D;&#x6703;&#x8F38;&#x5165; <code>/bin/echo</code>&#xFF0C;&#x800C;&#x50C5;&#x50C5;&#x662F;&#x8F38;&#x5165; <code>echo</code>&#x3002;&#x90A3;&#x70BA;&#x4EC0;&#x9EBC;&#x9019;&#x6A23; <code>bash</code> &#x4E5F;&#x80FD;&#x5920;&#x627E;&#x5230; <code>/bin/echo</code> &#x5462;&#xFF1F;&#x539F;&#x56E0;&#x662F; Linux &#x64CD;&#x4F5C;&#x7CFB;&#x7D71;&#x652F;&#x6301;&#x9019;&#x6A23;&#x4E00;&#x7A2E;&#x7B56;&#x7565;&#xFF1A;Shell &#x7684;&#x4E00;&#x500B;&#x74B0;&#x5883;&#x8B8A;&#x91CF; <code>PATH</code> &#x88E1;&#x982D;&#x5B58;&#x653E;&#x4E86;&#x7A0B;&#x5E8F;&#x7684;&#x4E00;&#x4E9B;&#x8DEF;&#x5F91;&#xFF0C;&#x7576; Shell &#x57F7;&#x884C;&#x7A0B;&#x5E8F;&#x6642;&#x6709;&#x53EF;&#x80FD;&#x53BB;&#x9019;&#x4E9B;&#x76EE;&#x9304;&#x4E0B;&#x67E5;&#x627E;&#x3002;<code>which</code> &#x4F5C;&#x70BA; Shell&#xFF08;&#x9019;&#x88E1;&#x7279;&#x6307; <code>bash</code>&#xFF09;&#x7684;&#x4E00;&#x500B;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x6236;&#x8F38;&#x5165;&#x7684;&#x547D;&#x4EE4;&#x662F;&#x78C1;&#x76E4;&#x4E0A;&#x7684;&#x67D0;&#x500B;&#x7A0B;&#x5E8F;&#xFF0C;&#x5B83;&#x6703;&#x8FD4;&#x56DE;&#x9019;&#x500B;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F91;&#x3002;</p>
<p>&#x6709;&#x4E09;&#x500B;&#x6771;&#x897F;&#x548C;&#x7D42;&#x7AEF;&#x7684;&#x95DC;&#x4FC2;&#x5F88;&#x5927;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x6A19;&#x6E96;&#x8F38;&#x5165;&#x3001;&#x6A19;&#x6E96;&#x8F38;&#x51FA;&#x548C;&#x6A19;&#x6E96;&#x932F;&#x8AA4;&#xFF0C;&#x5B83;&#x5011;&#x662F;&#x4E09;&#x500B;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x4E00;&#x822C;&#x5C0D;&#x61C9;&#x63CF;&#x8FF0;&#x7B26; 0&#xFF0C;1&#xFF0C;2&#x3002;&#x5728; C &#x8A9E;&#x8A00;&#x7A0B;&#x5E8F;&#x88E1;&#xFF0C;&#x6211;&#x5011;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x5011;&#x7576;&#x4F5C;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x4E00;&#x6A23;&#x9032;&#x884C;&#x64CD;&#x4F5C;&#x3002;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E0B;&#xFF0C;&#x5247;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x91CD;&#x5B9A;&#x5411;&#x5B57;&#x7B26;<code>&gt;&#xFF0C;&lt;</code>&#x7B49;&#x5C0D;&#x5B83;&#x5011;&#x9032;&#x884C;&#x64CD;&#x4F5C;&#x3002;&#x5C0D;&#x65BC;&#x6A19;&#x6E96;&#x8F38;&#x51FA;&#x548C;&#x6A19;&#x6E96;&#x932F;&#x8AA4;&#xFF0C;&#x90FD;&#x9ED8;&#x8A8D;&#x8F38;&#x51FA;&#x5230;&#x7D42;&#x7AEF;&#xFF0C;&#x5C0D;&#x65BC;&#x6A19;&#x6E96;&#x8F38;&#x5165;&#xFF0C;&#x4E5F;&#x540C;&#x6A23;&#x9ED8;&#x8A8D;&#x5F9E;&#x7D42;&#x7AEF;&#x8F38;&#x5165;&#x3002;</p>
<p><span id="toc_16100_6031_10"></span></p>
<h3 id="%E5%93%AA%E7%A8%AE%E5%91%BD%E4%BB%A4%E5%85%88%E8%A2%AB%E5%9F%B7%E8%A1%8C">&#x54EA;&#x7A2E;&#x547D;&#x4EE4;&#x5148;&#x88AB;&#x57F7;&#x884C;</h3>
<p>&#x5728; C &#x8A9E;&#x8A00;&#x88E1;&#x982D;&#x8981;&#x5BEB;&#x4E00;&#x6BB5;&#x8F38;&#x5165;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x547D;&#x4EE4;&#x5F88;&#x7C21;&#x55AE;&#xFF0C;&#x8ABF;&#x7528; <code>scanf</code> &#x6216;&#x8005; <code>fgets</code> &#x5C31;&#x53EF;&#x4EE5;&#x3002;&#x9019;&#x500B;&#x5728; <code>bash</code> &#x88E1;&#x982D;&#x61C9;&#x8A72;&#x662F;&#x985E;&#x4F3C;&#x7684;&#x3002;&#x4F46;&#x662F;&#x5B83;&#x7372;&#x53D6;&#x7528;&#x6236;&#x7684;&#x547D;&#x4EE4;&#x4EE5;&#x5F8C;&#xFF0C;&#x5982;&#x4F55;&#x5206;&#x6790;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x4F55;&#x97FF;&#x61C9;&#x4E0D;&#x540C;&#x7684;&#x547D;&#x4EE4;&#x5462;&#xFF1F;</p>
<p>&#x9996;&#x5148;&#x4F86;&#x770B;&#x770B; <code>bash</code> &#x4E0B;&#x6240;&#x8B02;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x7528;&#x6700;&#x5E38;&#x898B;&#x7684; <code>test</code> &#x4F86;&#x4F5C;&#x6E2C;&#x8A66;&#x3002;</p>
<ul>
<li><p>&#x5B57;&#x7B26;&#x4E32;&#x88AB;&#x89E3;&#x6790;&#x6210;&#x547D;&#x4EE4;</p>
<p>  &#x96A8;&#x4FBF;&#x9375;&#x5165;&#x4E00;&#x500B;&#x5B57;&#x7B26;&#x4E32; <code>test1</code>&#xFF0C; <code>bash</code> &#x767C;&#x51FA;&#x97FF;&#x61C9;&#xFF0C;&#x544A;&#x77E5;&#x627E;&#x4E0D;&#x5230;&#x9019;&#x500B;&#x7A0B;&#x5E8F;&#xFF1A;</p>
<pre><code>  $ test1
  bash: test1: command not found
</code></pre></li>
<li><p>&#x5167;&#x7F6E;&#x547D;&#x4EE4;</p>
<p>  &#x800C;&#x7576;&#x9375;&#x5165; <code>test</code> &#x6642;&#xFF0C;&#x770B;&#x4E0D;&#x5230;&#x4EFB;&#x4F55;&#x8F38;&#x51FA;&#xFF0C;&#x552F;&#x4E00;&#x97FF;&#x61C9;&#x662F;&#xFF0C;&#x65B0;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x88AB;&#x6253;&#x5370;&#x4E86;&#xFF1A;</p>
<pre><code>  $ test
  $
</code></pre><p>  &#x67E5;&#x770B; <code>test</code> &#x9019;&#x500B;&#x547D;&#x4EE4;&#x7684;&#x985E;&#x578B;&#xFF0C;&#x5373;&#x67E5;&#x770B; <code>test</code> &#x5C07;&#x88AB;&#x5982;&#x4F55;&#x89E3;&#x91CB;&#xFF0C; <code>type</code> &#x544A;&#x8A34;&#x6211;&#x5011; <code>test</code> &#x662F;&#x4E00;&#x500B;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x679C;&#x6C92;&#x6709;&#x7406;&#x89E3;&#x932F;&#xFF0C; <code>test</code> &#x61C9;&#x8A72;&#x662F;&#x5229;&#x7528;&#x8AF8;&#x5982; <code>case &quot;test&quot;: do something;break;</code> &#x9019;&#x6A23;&#x7684;&#x6A5F;&#x5236;&#x5BE6;&#x73FE;&#x7684;&#xFF0C;&#x5177;&#x9AD4;&#x5982;&#x4F55;&#x5BE6;&#x73FE;&#x53EF;&#x4EE5;&#x67E5;&#x770B; <code>bash</code> &#x6E90;&#x4EE3;&#x78BC;&#x3002;</p>
<pre><code>  $ type test
  test is a shell builtin
</code></pre></li>
<li><p>&#x5916;&#x90E8;&#x547D;&#x4EE4;</p>
<p>  &#x9019;&#x88E1;&#x901A;&#x904E; <code>which</code> &#x67E5;&#x5230; <code>/usr/bin</code> &#x4E0B;&#x6709;&#x4E00;&#x500B; <code>test</code> &#x547D;&#x4EE4;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x9375;&#x5165; <code>test</code> &#x6642;&#xFF0C;&#x5230;&#x5E95;&#x54EA;&#x4E00;&#x500B;&#x88AB;&#x57F7;&#x884C;&#x4E86;&#x5462;&#xFF1F;</p>
<pre><code>  $ which test
  /usr/bin/test
</code></pre><p>  &#x57F7;&#x884C;&#x9019;&#x500B;&#x5462;&#xFF1F;&#x4E5F;&#x6C92;&#x4EC0;&#x9EBC;&#x53CD;&#x61C9;&#xFF0C;&#x5230;&#x5E95;&#x8AB0;&#x5148;&#x88AB;&#x57F7;&#x884C;&#x4E86;&#xFF1F;</p>
<pre><code>  $ /usr/bin/test
</code></pre><p>  &#x5F9E;&#x4E0A;&#x8FF0;&#x6F14;&#x793A;&#x4E2D;&#x767C;&#x73FE;&#x4E00;&#x500B;&#x554F;&#x984C;&#xFF1F;&#x5982;&#x679C;&#x8F38;&#x5165;&#x4E00;&#x500B;&#x547D;&#x4EE4;&#xFF0C;&#x9019;&#x500B;&#x547D;&#x4EE4;&#x8981;&#x9EBC;&#x5C31;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x8981;&#x9EBC;&#x53EF;&#x80FD;&#x540C;&#x6642;&#x662F; Shell &#x7684;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#x3001;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x78C1;&#x76E4;&#x4E0A;&#x74B0;&#x5883;&#x8B8A;&#x91CF; <code>PATH</code> &#x6240;&#x6307;&#x5B9A;&#x7684;&#x76EE;&#x9304;&#x4E0B;&#x7684;&#x67D0;&#x500B;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x3002;</p>
<p>  &#x8003;&#x616E;&#x5230; <code>test</code> &#x5167;&#x7F6E;&#x547D;&#x4EE4;&#x548C; <code>/usr/bin/test</code> &#x547D;&#x4EE4;&#x7684;&#x97FF;&#x61C9;&#x7D50;&#x679C;&#x4E00;&#x6A23;&#xFF0C;&#x6211;&#x5011;&#x7121;&#x6CD5;&#x77E5;&#x9053;&#x54EA;&#x4E00;&#x500B;&#x5148;&#x88AB;&#x57F7;&#x884C;&#x4E86;&#xFF0C;&#x600E;&#x9EBC;&#x8FA6;&#x5462;&#xFF1F;&#x628A; <code>/usr/bin/test</code> &#x66FF;&#x63DB;&#x6210;&#x4E00;&#x500B;&#x6211;&#x5011;&#x81EA;&#x5DF1;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x4E26;&#x8B93;&#x5B83;&#x6253;&#x5370;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;(&#x6BD4;&#x5982; <code>hello, world!</code> )&#xFF0C;&#x9019;&#x6A23;&#x6211;&#x5011;&#x5C31;&#x77E5;&#x9053;&#x5230;&#x5E95;&#x8AB0;&#x88AB;&#x57F7;&#x884C;&#x4E86;&#x3002;&#x5BEB;&#x5B8C;&#x7A0B;&#x5E8F;&#xFF0C;&#x7DE8;&#x8B6F;&#x597D;&#xFF0C;&#x547D;&#x540D;&#x70BA; <code>test</code> &#x653E;&#x5230; <code>/usr/bin</code> &#x4E0B;&#xFF08;&#x8A18;&#x5F97;&#x5099;&#x4EFD;&#x539F;&#x4F86;&#x90A3;&#x500B;&#xFF09;&#x3002;&#x958B;&#x59CB;&#x6E2C;&#x8A66;&#xFF1A;</p>
<p>  &#x9375;&#x5165; <code>test</code> &#xFF0C;&#x9084;&#x662F;&#x6C92;&#x6709;&#x6548;&#x679C;&#xFF1A;</p>
<pre><code>  $ test
  $
</code></pre><p>  &#x800C;&#x9375;&#x5165;&#x7D55;&#x5C0D;&#x8DEF;&#x5F91;&#x5462;&#xFF0C;&#x5247;&#x6253;&#x5370;&#x4E86; <code>hello, world!</code> &#x8A92;&#xFF0C;&#x90A3;&#x9ED8;&#x8A8D;&#x60C5;&#x6CC1;&#x4E0B;&#x80AF;&#x5B9A;&#x662F;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#x5148;&#x88AB;&#x57F7;&#x884C;&#x4E86;&#xFF1A;</p>
<pre><code>  $ /usr/bin/test
  hello, world!
</code></pre><p>  &#x7531;&#x4E0A;&#x8FF0;&#x5BE6;&#x9A57;&#x7D50;&#x679C;&#x53EF;&#x898B;&#xFF0C;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#x6BD4;&#x78C1;&#x76E4;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7A0B;&#x5E8F;&#x512A;&#x5148;&#x88AB; <code>bash</code> &#x57F7;&#x884C;&#x3002;&#x539F;&#x56E0;&#x61C9;&#x8A72;&#x662F;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#x907F;&#x514D;&#x4E86;&#x4E0D;&#x5FC5;&#x8981;&#x7684; <code>fork/execve</code> &#x8ABF;&#x7528;&#xFF0C;&#x5C0D;&#x65BC;&#x63A1;&#x7528;&#x985E;&#x4F3C;&#x7B97;&#x6CD5;&#x5BE6;&#x73FE;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#x7406;&#x8AD6;&#x4E0A;&#x6709;&#x66F4;&#x9AD8;&#x904B;&#x884C;&#x6548;&#x7387;&#x3002;</p>
<p>  &#x4E0B;&#x9762;&#x770B;&#x770B;&#x66F4;&#x591A;&#x6709;&#x8DA3;&#x7684;&#x5167;&#x5BB9;&#xFF0C;&#x9375;&#x76E4;&#x9375;&#x5165;&#x7684;&#x547D;&#x4EE4;&#x9084;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x4EC0;&#x9EBC;&#x5462;&#xFF1F;&#x56E0;&#x70BA; <code>bash</code> &#x652F;&#x6301;&#x5225;&#x540D;&#xFF08;<code>alias</code>&#xFF09;&#x548C;&#x51FD;&#x6578;&#xFF08;<code>function</code>&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x9084;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x5225;&#x540D;&#x548C;&#x51FD;&#x6578;&#xFF0C;&#x53E6;&#x5916;&#xFF0C;&#x5982;&#x679C; <code>PATH</code> &#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x6307;&#x5B9A;&#x7684;&#x4E0D;&#x540C;&#x76EE;&#x9304;&#x4E0B;&#x6709;&#x76F8;&#x540C;&#x540D;&#x5B57;&#x7684;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#xFF0C;&#x90A3;&#x5230;&#x5E95;&#x54EA;&#x500B;&#x88AB;&#x512A;&#x5148;&#x627E;&#x5230;&#x5462;&#xFF1F;</p>
<p>  &#x4E0B;&#x9762;&#x518D;&#x4F5C;&#x4E00;&#x4E9B;&#x5BE6;&#x9A57;&#xFF0C;</p>
</li>
<li><p>&#x5225;&#x540D;</p>
<p>  &#x628A; <code>test</code> &#x547D;&#x540D;&#x70BA; <code>ls -l</code> &#x7684;&#x5225;&#x540D;&#xFF0C;&#x518D;&#x57F7;&#x884C; <code>test</code> &#xFF0C;&#x7ADF;&#x7136;&#x57F7;&#x884C;&#x4E86; <code>ls -l</code> &#xFF0C;&#x8AAA;&#x660E;&#x5225;&#x540D;&#xFF08;<code>alias</code>&#xFF09;&#x6BD4;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#xFF08;<code>builtin</code>&#xFF09;&#x66F4;&#x512A;&#x5148;&#xFF1A;</p>
<pre><code>  $ alias test=&quot;ls -l&quot;
  $ test
  total 9488
  drwxr-xr-x 12 falcon falcon    4096 2008-02-21 23:43 bash-3.2
  -rw-r--r--  1 falcon falcon 2529838 2008-02-21 23:30 bash-3.2.tar.gz
</code></pre></li>
<li><p>&#x51FD;&#x6578;</p>
<p>  &#x5B9A;&#x7FA9;&#x4E00;&#x500B;&#x540D;&#x53EB; <code>test</code> &#x7684;&#x51FD;&#x6578;&#xFF0C;&#x57F7;&#x884C;&#x4E00;&#x4E0B;&#xFF0C;&#x767C;&#x73FE;&#xFF0C;&#x9084;&#x662F;&#x57F7;&#x884C;&#x4E86; <code>ls -l</code> &#xFF0C;&#x8AAA;&#x660E; <code>function</code> &#x6C92;&#x6709; <code>alias</code> &#x512A;&#x5148;&#x7D1A;&#x9AD8;&#xFF1A;</p>
<pre><code>  $ function test { echo &quot;hi, I&apos;m a function&quot;; }
  $ test
  total 9488
  drwxr-xr-x 12 falcon falcon    4096 2008-02-21 23:43 bash-3.2
  -rw-r--r--  1 falcon falcon 2529838 2008-02-21 23:30 bash-3.2.tar.gz
</code></pre><p>  &#x628A;&#x5225;&#x540D;&#x7D66;&#x53BB;&#x6389;&#xFF08;<code>unalias</code>&#xFF09;&#xFF0C;&#x73FE;&#x5728;&#x57F7;&#x884C;&#x7684;&#x662F;&#x51FD;&#x6578;&#xFF0C;&#x8AAA;&#x660E;&#x51FD;&#x6578;&#x7684;&#x512A;&#x5148;&#x7D1A;&#x6BD4;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#x4E5F;&#x8981;&#x9AD8;&#xFF1A;</p>
<pre><code>  $ unalias test
  $ test
  hi, I&apos;m a function
</code></pre><p>  &#x5982;&#x679C;&#x5728;&#x547D;&#x4EE4;&#x4E4B;&#x524D;&#x8DDF;&#x4E0A; <code>builtin</code> &#xFF0C;&#x90A3;&#x9EBC;&#x5C07;&#x76F4;&#x63A5;&#x57F7;&#x884C;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#xFF1A;</p>
<pre><code>  $ builtin test
</code></pre><p>  &#x8981;&#x53BB;&#x6389;&#x67D0;&#x500B;&#x51FD;&#x6578;&#x7684;&#x5B9A;&#x7FA9;&#xFF0C;&#x9019;&#x6A23;&#x5C31;&#x53EF;&#x4EE5;&#xFF1A;</p>
<pre><code>  $ unset test
</code></pre></li>
</ul>
<p>&#x901A;&#x904E;&#x9019;&#x500B;&#x5BE6;&#x9A57;&#x6211;&#x5011;&#x5F97;&#x5230;&#x4E00;&#x500B;&#x547D;&#x4EE4;&#x7684;&#x5225;&#x540D;&#xFF08;<code>alias</code>&#xFF09;&#x3001;&#x51FD;&#x6578;&#xFF08;<code>function</code>&#xFF09;&#xFF0C;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#xFF08;<code>builtin</code>&#xFF09;&#x548C;&#x7A0B;&#x5E8F;&#xFF08;<code>program</code>&#xFF09;&#x7684;&#x57F7;&#x884C;&#x512A;&#x5148;&#x6B21;&#x5E8F;&#xFF1A;</p>
<pre><code>    &#x5148;    alias --&gt; function --&gt; builtin --&gt; program   &#x5F8C;
</code></pre><p>&#x5BE6;&#x969B;&#x4E0A;&#xFF0C; <code>type</code> &#x547D;&#x4EE4;&#x6703;&#x544A;&#x8A34;&#x6211;&#x5011;&#x9019;&#x4E9B;&#x7D30;&#x7BC0;&#xFF0C; <code>type -a</code> &#x6703;&#x6309;&#x7167; <code>bash</code> &#x89E3;&#x6790;&#x7684;&#x9806;&#x5E8F;&#x4F9D;&#x6B21;&#x6253;&#x5370;&#x8A72;&#x547D;&#x4EE4;&#x7684;&#x985E;&#x578B;&#xFF0C;&#x800C; <code>type -t</code> &#x5247;&#x6703;&#x7D66;&#x51FA;&#x7B2C;&#x4E00;&#x500B;&#x5C07;&#x88AB;&#x89E3;&#x6790;&#x7684;&#x547D;&#x4EE4;&#x7684;&#x985E;&#x578B;&#xFF0C;&#x4E4B;&#x6240;&#x4EE5;&#x8981;&#x505A;&#x4E0A;&#x9762;&#x7684;&#x5BE6;&#x9A57;&#xFF0C;&#x662F;&#x70BA;&#x4E86;&#x8B93;&#x5927;&#x5BB6;&#x52A0;&#x5370;&#x8C61;&#x3002;</p>
<pre><code>$ type -a test
test is a shell builtin
test is /usr/bin/test
$ alias test=&quot;ls -l&quot;
$ function test { echo &quot;I&apos;m a function&quot;; }
$ type -a test
test is aliased to `ls -l&apos;
test is a function
test ()
{
    echo &quot;I&apos;m a function&quot;
}
test is a shell builtin
test is /usr/bin/test
$ type -t test
alias
</code></pre><p>&#x4E0B;&#x9762;&#x518D;&#x770B;&#x770B; <code>PATH</code> &#x6307;&#x5B9A;&#x7684;&#x591A;&#x500B;&#x76EE;&#x9304;&#x4E0B;&#x6709;&#x540C;&#x540D;&#x7A0B;&#x5E8F;&#x7684;&#x60C5;&#x6CC1;&#x3002;&#x518D;&#x5BEB;&#x4E00;&#x500B;&#x7A0B;&#x5E8F;&#xFF0C;&#x6253;&#x5370; <code>hi, world!</code>&#xFF0C;&#x4EE5;&#x793A;&#x548C; <code>hello, world!</code> &#x7684;&#x5340;&#x5225;&#xFF0C;&#x653E;&#x5230; <code>PATH</code> &#x6307;&#x5B9A;&#x7684;&#x53E6;&#x5916;&#x4E00;&#x500B;&#x76EE;&#x9304; <code>/bin</code> &#x4E0B;&#xFF0C;&#x70BA;&#x4E86;&#x4FDD;&#x8B49;&#x6E2C;&#x8A66;&#x7684;&#x8AAA;&#x670D;&#x529B;&#xFF0C;&#x518D;&#x5BEB;&#x4E00;&#x500B;&#x653E;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x500B;&#x53EB; <code>/usr/local/sbin</code> &#x7684;&#x76EE;&#x9304;&#x4E0B;&#x3002;</p>
<p>&#x5148;&#x770B;&#x770B; <code>PATH</code> &#x74B0;&#x5883;&#x8B8A;&#x91CF;&#xFF0C;&#x78BA;&#x4FDD;&#x5B83;&#x6709; <code>/usr/bin</code>&#xFF0C;<code>/bin</code> &#x548C; <code>/usr/local/sbin</code> &#x9019;&#x5E7E;&#x500B;&#x76EE;&#x9304;&#xFF0C;&#x7136;&#x5F8C;&#x901A;&#x904E; <code>type -P</code>&#xFF08;<code>-P</code> &#x53C3;&#x6578;&#x5F37;&#x5236;&#x5230; <code>PATH</code> &#x4E0B;&#x67E5;&#x627E;&#xFF0C;&#x800C;&#x4E0D;&#x7BA1;&#x662F;&#x5225;&#x540D;&#x9084;&#x662F;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#x7B49;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x904E; <code>help type</code> &#x67E5;&#x770B;&#x8A72;&#x53C3;&#x6578;&#x7684;&#x542B;&#x7FA9;&#xFF09;&#x67E5;&#x770B;&#xFF0C;&#x5230;&#x5E95;&#x54EA;&#x500B;&#x5148;&#x88AB;&#x57F7;&#x884C;&#x3002;</p>
<p>$ echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games
$ type -P test
/usr/local/sbin/test</p>
<p>&#x5982;&#x4E0A;&#x53EF;&#x4EE5;&#x770B;&#x5230; <code>/usr/local/sbin</code> &#x4E0B;&#x7684;&#x5148;&#x88AB;&#x627E;&#x5230;&#x3002;</p>
<p>&#x628A; <code>/usr/local/sbin/test</code> &#x4E0B;&#x7684;&#x7D66;&#x522A;&#x9664;&#x6389;&#xFF0C;&#x73FE;&#x5728; <code>/usr/bin</code> &#x4E0B;&#x7684;&#x5148;&#x88AB;&#x627E;&#x5230;&#xFF1A;</p>
<pre><code>$ rm /usr/local/sbin/test
$ type -P test
/usr/bin/test
</code></pre><p><code>type -a</code> &#x4E5F;&#x986F;&#x793A;&#x985E;&#x4F3C;&#x7684;&#x7D50;&#x679C;&#xFF1A;</p>
<pre><code>$ type -a test
test is aliased to `ls -l&apos;
test is a function
test ()
{
    echo &quot;I&apos;m a function&quot;
}
test is a shell builtin
test is /usr/bin/test
test is /bin/test
</code></pre><p>&#x56E0;&#x6B64;&#xFF0C;&#x53EF;&#x4EE5;&#x627E;&#x51FA;&#x9019;&#x9EBC;&#x4E00;&#x500B;&#x898F;&#x5F8B;&#xFF1A; Shell &#x5F9E; <code>PATH</code> &#x5217;&#x51FA;&#x7684;&#x8DEF;&#x5F91;&#x4E2D;&#x4F9D;&#x6B21;&#x67E5;&#x627E;&#x7528;&#x6236;&#x8F38;&#x5165;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x8003;&#x616E;&#x5230;&#x7A0B;&#x5E8F;&#x7684;&#x512A;&#x5148;&#x7D1A;&#x6700;&#x4F4E;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x512A;&#x5148;&#x57F7;&#x884C;&#x78C1;&#x76E4;&#x4E0A;&#x7684;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6; <code>test</code> &#x5462;&#xFF1F;&#x90A3;&#x9EBC;&#x5C31;&#x53EF;&#x4EE5;&#x7528; <code>test -P</code> &#x627E;&#x51FA;&#x9019;&#x500B;&#x6587;&#x4EF6;&#x4E26;&#x57F7;&#x884C;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p>
<p>&#x88DC;&#x5145;&#xFF1A;&#x5C0D;&#x65BC; Shell &#x7684;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x904E; <code>help command</code> &#x7684;&#x65B9;&#x5F0F;&#x7372;&#x5F97;&#x5E6B;&#x52A9;&#xFF0C;&#x5C0D;&#x65BC;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7528;&#x6236;&#x624B;&#x518A;&#xFF08;&#x7576;&#x7136;&#xFF0C;&#x9019;&#x500B;&#x9700;&#x8981;&#x5B89;&#x88DD;&#xFF0C;&#x4E00;&#x822C;&#x53EB;&#x505A; <code>xxx-doc</code>&#xFF09;&#xFF0C; <code>man command</code> &#x3002;</p>
<p><span id="toc_16100_6031_11"></span></p>
<h3 id="%E9%80%99%E4%BA%9B%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E6%98%AF%E5%A6%82%E4%BD%95%E8%A7%A3%E6%9E%90%E7%9A%84%EF%BC%9A">&#x9019;&#x4E9B;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#x662F;&#x5982;&#x4F55;&#x89E3;&#x6790;&#x7684;&#xFF1A;<code>|, &gt;, &lt;, &amp;</code></h3>
<p>&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E0A;&#xFF0C;&#x9664;&#x4E86;&#x8F38;&#x5165;&#x5404;&#x7A2E;&#x547D;&#x4EE4;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x53C3;&#x6578;&#x5916;&#xFF0C;&#x6BD4;&#x5982;&#x4E0A;&#x9762; <code>type</code> &#x547D;&#x4EE4;&#x7684;&#x5404;&#x7A2E;&#x53C3;&#x6578; <code>-a</code>&#xFF0C;<code>-P</code> &#x7B49;&#xFF0C;&#x5C0D;&#x65BC;&#x9019;&#x4E9B;&#x53C3;&#x6578;&#xFF0C;&#x662F;&#x50B3;&#x905E;&#x7D66;&#x7A0B;&#x5E8F;&#x672C;&#x8EAB;&#x7684;&#xFF0C;&#x975E;&#x5E38;&#x597D;&#x8655;&#x7406;&#xFF0C;&#x6BD4;&#x5982; <code>if</code> &#xFF0C; <code>else</code> &#x689D;&#x4EF6;&#x5206;&#x652F;&#x6216;&#x8005; <code>switch</code>&#xFF0C;<code>case</code> &#x90FD;&#x53EF;&#x4EE5;&#x8655;&#x7406;&#x3002;&#x7576;&#x7136;&#xFF0C;&#x5728; <code>bash</code> &#x88E1;&#x982D;&#x53EF;&#x80FD;&#x4F7F;&#x7528;&#x5C08;&#x9580;&#x7684;&#x53C3;&#x6578;&#x8655;&#x7406;&#x51FD;&#x6578; <code>getopt</code> &#x548C; <code>getopt_long</code> &#x4F86;&#x8655;&#x7406;&#x5B83;&#x5011;&#x3002;</p>
<p>&#x800C; <code>|</code> &#xFF0C; <code>&gt;</code> &#xFF0C; <code>&lt;</code> &#xFF0C; <code>&amp;</code> &#x7B49;&#x5B57;&#x7B26;&#xFF0C;&#x5247;&#x6BD4;&#x8F03;&#x7279;&#x5225;&#xFF0C; Shell &#x662F;&#x600E;&#x9EBC;&#x8655;&#x7406;&#x5B83;&#x5011;&#x7684;&#x5462;&#xFF1F;&#x5B83;&#x5011;&#x4E5F;&#x88AB;&#x50B3;&#x905E;&#x7D66;&#x7A0B;&#x5E8F;&#x672C;&#x8EAB;&#x55CE;&#xFF1F;&#x53EF;&#x6211;&#x5011;&#x7684;&#x7A0B;&#x5E8F;&#x5167;&#x90E8;&#x4E00;&#x822C;&#x90FD;&#x4E0D;&#x8655;&#x7406;&#x9019;&#x4E9B;&#x5B57;&#x7B26;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x61C9;&#x8A72;&#x662F; Shell &#x7A0B;&#x5E8F;&#x81EA;&#x5DF1;&#x89E3;&#x6790;&#x4E86;&#x5B83;&#x5011;&#x3002;</p>
<p>&#x5148;&#x4F86;&#x770B;&#x770B;&#x9019;&#x5E7E;&#x500B;&#x5B57;&#x7B26;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x7684;&#x5E38;&#x898B;&#x7528;&#x6CD5;&#xFF0C;</p>
<p><code>&lt;</code> &#x5B57;&#x7B26;&#x8868;&#x793A;&#xFF1A;&#x628A; <code>test.c</code> &#x6587;&#x4EF6;&#x91CD;&#x5B9A;&#x5411;&#x70BA;&#x6A19;&#x6E96;&#x8F38;&#x5165;&#xFF0C;&#x4F5C;&#x70BA; <code>cat</code> &#x547D;&#x4EE4;&#x8F38;&#x5165;&#xFF0C;&#x800C; <code>cat</code> &#x9ED8;&#x8A8D;&#x8F38;&#x51FA;&#x5230;&#x6A19;&#x6E96;&#x8F38;&#x51FA;&#xFF1A;</p>
<pre><code>$ cat &lt; ./test.c
#include &lt;stdio.h&gt;

int main(void)
{
        printf(&quot;hi, myself!\n&quot;);
        return 0;
}
</code></pre><p><code>&gt;</code> &#x8868;&#x793A;&#x628A;&#x6A19;&#x6E96;&#x8F38;&#x51FA;&#x91CD;&#x5B9A;&#x5411;&#x70BA;&#x6587;&#x4EF6; <code>test_new.c</code> &#xFF0C;&#x7D50;&#x679C;&#x5167;&#x5BB9;&#x8F38;&#x51FA;&#x5230; <code>test_new.c</code> &#xFF1A;</p>
<pre><code>$ cat &lt; ./test.c &gt; test_new.c
</code></pre><p>&#x5C0D;&#x65BC; <code>&gt;</code> &#xFF0C; <code>&lt;</code> &#xFF0C; <code>&gt;&gt;</code> &#xFF0C; <code>&lt;&lt;</code> &#xFF0C; <code>&lt;&gt;</code> &#x6211;&#x5011;&#x90FD;&#x7A31;&#x4E4B;&#x70BA;&#x91CD;&#x5B9A;&#x5411;&#xFF08;<code>redirect</code>&#xFF09;&#xFF0C; Shell &#x5230;&#x5E95;&#x662F;&#x600E;&#x9EBC;&#x9032;&#x884C;&#x6240;&#x8B02;&#x7684;&#x201C;&#x91CD;&#x5B9A;&#x5411;&#x201D;&#x7684;&#x5462;&#xFF1F;</p>
<p>&#x9019;&#x4E3B;&#x8981;&#x6B78;&#x529F;&#x65BC; <code>dup/fcntl</code> &#x7B49;&#x51FD;&#x6578;&#xFF0C;&#x5B83;&#x5011;&#x53EF;&#x4EE5;&#x5BE6;&#x73FE;&#xFF1A;&#x8907;&#x88FD;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x8B93;&#x591A;&#x500B;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x5171;&#x4EAB;&#x540C;&#x4E00;&#x500B;&#x6587;&#x4EF6;&#x8868;&#x9805;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x7576;&#x628A;&#x6587;&#x4EF6; <code>test.c</code> &#x91CD;&#x5B9A;&#x5411;&#x70BA;&#x6A19;&#x6E96;&#x8F38;&#x5165;&#x6642;&#x3002;&#x5047;&#x8A2D;&#x4E4B;&#x524D;&#x7528;&#x4EE5;&#x6253;&#x958B; <code>test.c</code> &#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x662F; 5 &#xFF0C;&#x73FE;&#x5728;&#x5C31;&#x628A; 5 &#x8907;&#x88FD;&#x70BA;&#x4E86; 0 &#xFF0C;&#x9019;&#x6A23;&#x7576; <code>cat</code> &#x8A66;&#x5716;&#x5F9E;&#x6A19;&#x6E96;&#x8F38;&#x5165;&#x8B80;&#x51FA;&#x5167;&#x5BB9;&#x6642;&#xFF0C;&#x4E5F;&#x5C31;&#x8A2A;&#x554F;&#x4E86;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26; 5 &#x6307;&#x5411;&#x7684;&#x6587;&#x4EF6;&#x8868;&#x9805;&#xFF0C;&#x63A5;&#x8457;&#x8B80;&#x51FA;&#x4E86;&#x6587;&#x4EF6;&#x5167;&#x5BB9;&#x3002;&#x8F38;&#x51FA;&#x91CD;&#x5B9A;&#x5411;&#x8207;&#x6B64;&#x985E;&#x4F3C;&#x3002;&#x5176;&#x4ED6;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#xFF0C;&#x8AF8;&#x5982; <code>&gt;&gt;</code> &#xFF0C; <code>&lt;&lt;</code> &#xFF0C; <code>&lt;&gt;</code> &#x7B49;&#x96D6;&#x7136;&#x548C; <code>&gt;</code> &#xFF0C; <code>&lt;</code> &#x7684;&#x5177;&#x9AD4;&#x5BE6;&#x73FE;&#x529F;&#x80FD;&#x4E0D;&#x592A;&#x4E00;&#x6A23;&#xFF0C;&#x4F46;&#x672C;&#x8CEA;&#x662F;&#x4E00;&#x6A23;&#x7684;&#xFF0C;&#x90FD;&#x662F;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x8907;&#x88FD;&#xFF0C;&#x53EA;&#x4E0D;&#x904E;&#x53EF;&#x80FD;&#x5C0D;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x6709;&#x4E00;&#x4E9B;&#x9644;&#x52A0;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x6BD4;&#x5982; <code>&gt;&gt;</code> &#x5728;&#x8F38;&#x51FA;&#x6642;&#x8FFD;&#x52A0;&#x5230;&#x6587;&#x4EF6;&#x672B;&#x5C3E;&#xFF0C;&#x800C; <code>&gt;</code> &#x5247;&#x6703;&#x5F9E;&#x982D;&#x958B;&#x59CB;&#x5BEB;&#x5165;&#x6587;&#x4EF6;&#xFF0C;&#x524D;&#x8005;&#x610F;&#x5473;&#x8457;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#x6703;&#x589E;&#x9577;&#xFF0C;&#x800C;&#x5F8C;&#x8005;&#x5247;&#x610F;&#x5473;&#x6587;&#x4EF6;&#x88AB;&#x91CD;&#x5BEB;&#x3002;</p>
<p>&#x90A3;&#x9EBC; <code>|</code> &#x5462;&#xFF1F; <code>|</code> &#x88AB;&#x5F62;&#x8C61;&#x5730;&#x7A31;&#x70BA;&#x201C;&#x7BA1;&#x9053;&#x201D;&#xFF0C;&#x5BE6;&#x969B;&#x4E0A;&#x5B83;&#x5C31;&#x662F;&#x901A;&#x904E; C &#x8A9E;&#x8A00;&#x88E1;&#x982D;&#x7684;&#x7121;&#x540D;&#x7BA1;&#x9053;&#x4F86;&#x5BE6;&#x73FE;&#x7684;&#x3002;&#x5148;&#x770B;&#x4E00;&#x500B;&#x4F8B;&#x5B50;&#xFF0C;</p>
<pre><code>$ cat &lt; ./test.c  | grep hi
        printf(&quot;hi, myself!\n&quot;);
</code></pre><p>&#x5728;&#x9019;&#x500B;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C; <code>cat</code> &#x8B80;&#x51FA;&#x4E86; <code>test.c</code> &#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5167;&#x5BB9;&#xFF0C;&#x4E26;&#x8F38;&#x51FA;&#x5230;&#x6A19;&#x6E96;&#x8F38;&#x51FA;&#x4E0A;&#xFF0C;&#x4F46;&#x662F;&#x5BE6;&#x969B;&#x4E0A;&#x8F38;&#x51FA;&#x7684;&#x5167;&#x5BB9;&#x537B;&#x53EA;&#x6709;&#x4E00;&#x884C;&#xFF0C;&#x539F;&#x56E0;&#x662F;&#x9019;&#x500B;&#x6A19;&#x6E96;&#x8F38;&#x51FA;&#x88AB;&#x201C;&#x63A5;&#x5230;&#x201D;&#x4E86; <code>grep</code> &#x547D;&#x4EE4;&#x7684;&#x6A19;&#x6E96;&#x8F38;&#x5165;&#x4E0A;&#xFF0C;&#x800C; <code>grep</code> &#x547D;&#x4EE4;&#x53EA;&#x6253;&#x5370;&#x4E86;&#x5305;&#x542B; &#x201C;hi&#x201D; &#x5B57;&#x7B26;&#x4E32;&#x7684;&#x4E00;&#x884C;&#x3002;</p>
<p>&#x9019;&#x662F;&#x600E;&#x9EBC;&#x88AB;&#x201C;&#x63A5;&#x201D;&#x4E0A;&#x7684;&#x3002; <code>cat</code> &#x548C; <code>grep</code> &#x4F5C;&#x70BA;&#x5169;&#x500B;&#x55AE;&#x7368;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5B83;&#x5011;&#x672C;&#x8EAB;&#x6C92;&#x6709;&#x8FA6;&#x6CD5;&#x628A;&#x5169;&#x8005;&#x7684;&#x8F38;&#x5165;&#x548C;&#x8F38;&#x51FA;&#x201C;&#x63A5;&#x201D;&#x8D77;&#x4F86;&#x3002;&#x9019;&#x6B63;&#x662F; Shell &#x81EA;&#x5DF1;&#x7684;&#x201C;&#x5091;&#x4F5C;&#x201D;&#xFF0C;&#x5B83;&#x901A;&#x904E; C &#x8A9E;&#x8A00;&#x88E1;&#x982D;&#x7684; <code>pipe</code> &#x51FD;&#x6578;&#x5275;&#x5EFA;&#x4E86;&#x4E00;&#x500B;&#x7BA1;&#x9053;&#xFF08;&#x4E00;&#x500B;&#x5305;&#x542B;&#x5169;&#x500B;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x6574;&#x5F62;&#x6578;&#x7D44;&#xFF0C;&#x4E00;&#x500B;&#x63CF;&#x8FF0;&#x7B26;&#x7528;&#x65BC;&#x5BEB;&#x5165;&#x6578;&#x64DA;&#xFF0C;&#x4E00;&#x500B;&#x63CF;&#x8FF0;&#x7B26;&#x7528;&#x65BC;&#x8B80;&#x5165;&#x6578;&#x64DA;&#xFF09;&#xFF0C;&#x4E26;&#x4E14;&#x901A;&#x904E; <code>dup/fcntl</code> &#x628A; <code>cat</code> &#x7684;&#x8F38;&#x51FA;&#x8907;&#x88FD;&#x5230;&#x4E86;&#x7BA1;&#x9053;&#x7684;&#x8F38;&#x5165;&#xFF0C;&#x800C;&#x628A;&#x7BA1;&#x9053;&#x7684;&#x8F38;&#x51FA;&#x5247;&#x8907;&#x88FD;&#x5230;&#x4E86; <code>grep</code> &#x7684;&#x8F38;&#x5165;&#x3002;&#x9019;&#x771F;&#x662F;&#x4E00;&#x500B;&#x5947;&#x5999;&#x7684;&#x60F3;&#x6CD5;&#x3002;</p>
<p>&#x90A3; <code>&amp;</code> &#x5462;&#xFF1F;&#x7576;&#x4F60;&#x5728;&#x7A0B;&#x5E8F;&#x7684;&#x6700;&#x5F8C;&#x8DDF;&#x4E0A;&#x9019;&#x500B;&#x5947;&#x5999;&#x7684;&#x5B57;&#x7B26;&#x4EE5;&#x5F8C;&#x5C31;&#x53EF;&#x4EE5;&#x63A5;&#x8457;&#x505A;&#x5176;&#x4ED6;&#x4E8B;&#x60C5;&#x4E86;&#xFF0C;&#x770B;&#x770B;&#x6548;&#x679C;&#xFF1A;</p>
<pre><code>$ sleep 50 &amp; #&#x8B93;&#x7A0B;&#x5E8F;&#x5728;&#x5F8C;&#x81FA;&#x904B;&#x884C;
[1] 8261
</code></pre><p>&#x63D0;&#x793A;&#x7B26;&#x88AB;&#x6253;&#x5370;&#x51FA;&#x4F86;&#xFF0C;&#x53EF;&#x4EE5;&#x8F38;&#x5165;&#x6771;&#x897F;&#xFF0C;&#x8B93;&#x7A0B;&#x5E8F;&#x5230;&#x524D;&#x81FA;&#x904B;&#x884C;&#xFF0C;&#x7121;&#x6CD5;&#x8F38;&#x5165;&#x6771;&#x897F;&#x4E86;&#xFF0C;&#x6309;&#x4E0B; <code>CTRL+Z</code> &#xFF0C;&#x518D;&#x8B93;&#x7A0B;&#x5E8F;&#x5230;&#x5F8C;&#x81FA;&#x904B;&#x884C;&#xFF1A;</p>
<pre><code>$ fg %1
sleep 50

[1]+  Stopped                 sleep 50
</code></pre><p>&#x5BE6;&#x969B;&#x4E0A; <code>&amp;</code> &#x6B63;&#x662F; <code>Shell</code> &#x652F;&#x6301;&#x4F5C;&#x696D;&#x63A7;&#x5236;&#x7684;&#x8868;&#x5FB5;&#xFF0C;&#x901A;&#x904E;&#x4F5C;&#x696D;&#x63A7;&#x5236;&#xFF0C;&#x7528;&#x6236;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E0A;&#x53EF;&#x4EE5;&#x540C;&#x6642;&#x4F5C;&#x5E7E;&#x500B;&#x4E8B;&#x60C5;&#xFF08;&#x628A;&#x7576;&#x524D;&#x4E0D;&#x505A;&#x7684;&#x653E;&#x5230;&#x5F8C;&#x81FA;&#xFF0C;&#x7528; <code>&amp;</code> &#x6216;&#x8005; <code>CTRL+Z</code> &#x6216;&#x8005; <code>bg</code>&#xFF09;&#x4E26;&#x4E14;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x5730;&#x9078;&#x64C7;&#x7576;&#x524D;&#x9700;&#x8981;&#x57F7;&#x884C;&#x54EA;&#x4E00;&#x500B;&#xFF08;&#x7528; <code>fg</code> &#x8ABF;&#x5230;&#x524D;&#x81FA;&#xFF09;&#x3002;&#x9019;&#x5728;&#x5BE6;&#x73FE;&#x6642;&#x61C9;&#x8A72;&#x6D89;&#x53CA;&#x5230;&#x5F88;&#x591A;&#x6771;&#x897F;&#xFF0C;&#x5305;&#x62EC;&#x7D42;&#x7AEF;&#x6703;&#x8A71;&#xFF08;<code>session</code>&#xFF09;&#x3001;&#x7D42;&#x7AEF;&#x4FE1;&#x865F;&#x3001;&#x524D;&#x81FA;&#x9032;&#x7A0B;&#x3001;&#x5F8C;&#x81FA;&#x9032;&#x7A0B;&#x7B49;&#x3002;&#x800C;&#x5728;&#x547D;&#x4EE4;&#x7684;&#x5F8C;&#x9762;&#x52A0;&#x4E0A; <code>&amp;</code> &#x5F8C;&#xFF0C;&#x8A72;&#x547D;&#x4EE4;&#x5C07;&#x88AB;&#x4F5C;&#x70BA;&#x5F8C;&#x81FA;&#x9032;&#x7A0B;&#x57F7;&#x884C;&#xFF0C;&#x5F8C;&#x81FA;&#x9032;&#x7A0B;&#x662F;&#x4EC0;&#x9EBC;&#x5462;&#xFF1F;&#x9019;&#x985E;&#x9032;&#x7A0B;&#x7121;&#x6CD5;&#x63A5;&#x6536;&#x7528;&#x6236;&#x767C;&#x9001;&#x7D66;&#x7D42;&#x7AEF;&#x7684;&#x4FE1;&#x865F;&#xFF08;&#x5982; <code>SIGHUP</code> &#xFF0C;<code>SIGQUIT</code> &#xFF0C;<code>SIGINT</code>&#xFF09;&#xFF0C;&#x7121;&#x6CD5;&#x97FF;&#x61C9;&#x9375;&#x76E4;&#x8F38;&#x5165;&#xFF08;&#x88AB;&#x524D;&#x81FA;&#x9032;&#x7A0B;&#x4F54;&#x7528;&#x8457;&#xFF09;&#xFF0C;&#x4E0D;&#x904E;&#x53EF;&#x4EE5;&#x901A;&#x904E; <code>fg</code> &#x5207;&#x63DB;&#x5230;&#x524D;&#x81FA;&#x800C;&#x4EAB;&#x53D7;&#x4F5C;&#x70BA;&#x524D;&#x81FA;&#x9032;&#x7A0B;&#x5177;&#x6709;&#x7684;&#x7279;&#x6B0A;&#x3002;</p>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x7576;&#x4E00;&#x500B;&#x547D;&#x4EE4;&#x88AB;&#x52A0;&#x4E0A; <code>&amp;</code> &#x57F7;&#x884C;&#x5F8C;&#xFF0C;Shell &#x5FC5;&#x9808;&#x8B93;&#x5B83;&#x5177;&#x6709;&#x5F8C;&#x81FA;&#x9032;&#x7A0B;&#x7684;&#x7279;&#x5FB5;&#xFF0C;&#x8B93;&#x5B83;&#x7121;&#x6CD5;&#x97FF;&#x61C9;&#x9375;&#x76E4;&#x7684;&#x8F38;&#x5165;&#xFF0C;&#x7121;&#x6CD5;&#x97FF;&#x61C9;&#x7D42;&#x7AEF;&#x7684;&#x4FE1;&#x865F;&#xFF08;&#x610F;&#x5473;&#x5FFD;&#x7565;&#x9019;&#x4E9B;&#x4FE1;&#x865F;&#xFF09;&#xFF0C;&#x4E26;&#x4E14;&#x6BD4;&#x8F03;&#x91CD;&#x8981;&#x7684;&#x662F;&#x65B0;&#x7684;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x5F97;&#x6253;&#x5370;&#x51FA;&#x4F86;&#xFF0C;&#x4E26;&#x4E14;&#x8B93;&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x7E7C;&#x7E8C;&#x57F7;&#x884C;&#x5176;&#x4ED6;&#x547D;&#x4EE4;&#xFF0C;&#x9019;&#x4E9B;&#x5C31;&#x662F; Shell &#x5C0D; <code>&amp;</code> &#x7684;&#x57F7;&#x884C;&#x52D5;&#x4F5C;&#x3002;</p>
<p>&#x9084;&#x6709;&#x4EC0;&#x9EBC;&#x795E;&#x7955;&#x7684;&#x5462;&#xFF1F;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5BEB;&#x81EA;&#x5DF1;&#x7684; Shell &#x4E86;&#xFF0C;&#x4E26;&#x4E14;&#x53EF;&#x4EE5;&#x8B93;&#x5167;&#x6838;&#x555F;&#x52D5;&#x5F8C;&#x5C31;&#x57F7;&#x884C;&#x5B83; <code>l</code> &#xFF0C;&#x5728; <code>lilo</code> &#x6216;&#x8005; <code>grub</code> &#x7684;&#x555F;&#x52D5;&#x53C3;&#x6578;&#x4E0A;&#x8A2D;&#x7F6E; <code>init=/path/to/your/own/shell/program</code> &#x5C31;&#x53EF;&#x4EE5;&#x3002;&#x7576;&#x7136;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x4F5C;&#x70BA;&#x81EA;&#x5DF1;&#x7684;&#x767B;&#x9304; Shell &#xFF0C;&#x53EA;&#x9700;&#x8981;&#x653E;&#x5230; <code>/etc/passwd</code> &#x6587;&#x4EF6;&#x4E2D;&#x76F8;&#x61C9;&#x7528;&#x6236;&#x540D;&#x6240;&#x5728;&#x884C;&#x7684;&#x6700;&#x5F8C;&#x5C31;&#x53EF;&#x4EE5;&#x3002;&#x4E0D;&#x904E;&#x8C8C;&#x4F3C;&#x5230;&#x73FE;&#x5728;&#x9084;&#x6C92;&#x4ECB;&#x7D39; Shell &#x662F;&#x600E;&#x9EBC;&#x57F7;&#x884C;&#x7A0B;&#x5E8F;&#xFF0C;&#x662F;&#x600E;&#x6A23;&#x8B93;&#x7A0B;&#x5E8F;&#x8B8A;&#x6210;&#x9032;&#x7A0B;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x7E7C;&#x7E8C;&#x3002;</p>
<p><span id="toc_16100_6031_12"></span></p>
<h3 id="-bin-bash-%E7%94%A8%E4%BB%80%E9%BA%BC%E9%AD%94%E6%B3%95%E8%AE%93%E4%B8%80%E5%80%8B%E6%99%AE%E9%80%9A%E7%A8%8B%E5%BA%8F%E8%AE%8A%E6%88%90%E4%BA%86%E9%80%B2%E7%A8%8B">/bin/bash &#x7528;&#x4EC0;&#x9EBC;&#x9B54;&#x6CD5;&#x8B93;&#x4E00;&#x500B;&#x666E;&#x901A;&#x7A0B;&#x5E8F;&#x8B8A;&#x6210;&#x4E86;&#x9032;&#x7A0B;</h3>
<p>&#x7576;&#x6211;&#x5011;&#x5F9E;&#x9375;&#x76E4;&#x9375;&#x5165;&#x4E00;&#x4E32;&#x547D;&#x4EE4;&#xFF0C;Shell &#x5947;&#x5999;&#x5730;&#x97FF;&#x61C9;&#x4E86;&#xFF0C;&#x5C0D;&#x65BC;&#x5167;&#x7F6E;&#x547D;&#x4EE4;&#x548C;&#x51FD;&#x6578;&#xFF0C;Shell &#x81EA;&#x8EAB;&#x5C31;&#x53EF;&#x4EE5;&#x89E3;&#x6790;&#x4E86;&#xFF08;&#x901A;&#x904E; <code>switch</code> &#xFF0C;<code>case</code> &#x4E4B;&#x985E;&#x7684; C &#x8A9E;&#x8A00;&#x8A9E;&#x53E5;&#xFF09;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x9019;&#x500B;&#x547D;&#x4EE4;&#x662F;&#x78C1;&#x76E4;&#x4E0A;&#x7684;&#x4E00;&#x500B;&#x6587;&#x4EF6;&#x5462;&#x3002;&#x5B83;&#x627E;&#x5230;&#x8A72;&#x6587;&#x4EF6;&#x4EE5;&#x5F8C;&#xFF0C;&#x600E;&#x9EBC;&#x57F7;&#x884C;&#x5B83;&#x7684;&#x5462;&#xFF1F;</p>
<p>&#x9084;&#x662F;&#x7528; <code>strace</code> &#x4F86;&#x8DDF;&#x8E64;&#x4E00;&#x500B;&#x547D;&#x4EE4;&#x7684;&#x57F7;&#x884C;&#x904E;&#x7A0B;&#x770B;&#x770B;&#x3002;</p>
<pre><code>$ strace -f -o strace.log /usr/bin/test
hello, world!
$ cat strace.log | sed -ne &quot;1p&quot;   #&#x6211;&#x5011;&#x5C0D;&#x7B2C;&#x4E00;&#x884C;&#x5F88;&#x611F;&#x8208;&#x8DA3;
8445  execve(&quot;/usr/bin/test&quot;, [&quot;/usr/bin/test&quot;], [/* 33 vars */]) = 0
</code></pre><p>&#x5F9E;&#x8DDF;&#x8E64;&#x5230;&#x7684;&#x7D50;&#x679C;&#x7684;&#x7B2C;&#x4E00;&#x884C;&#x53EF;&#x4EE5;&#x770B;&#x5230; <code>bash</code> &#x901A;&#x904E; <code>execve</code> &#x8ABF;&#x7528;&#x4E86; <code>/usr/bin/test</code> &#xFF0C;&#x4E26;&#x4E14;&#x7D66;&#x5B83;&#x50B3;&#x4E86; 33 &#x500B;&#x53C3;&#x6578;&#x3002;&#x9019; 33 &#x500B; <code>vars</code> &#x662F;&#x4EC0;&#x9EBC;&#x5462;&#xFF1F;&#x770B;&#x770B; <code>declare -x</code> &#x7684;&#x7D50;&#x679C;&#xFF08;&#x9019;&#x500B;&#x7D50;&#x679C;&#x53EA;&#x6709; 32 &#x500B;&#xFF0C;&#x539F;&#x56E0;&#x662F; <code>vars</code> &#x7684;&#x6700;&#x5F8C;&#x4E00;&#x500B;&#x8B8A;&#x91CF;&#x9700;&#x8981;&#x662F;&#x4E00;&#x500B;&#x7D50;&#x675F;&#x6A19;&#x8A8C;&#xFF0C;&#x5373; <code>NULL</code>&#xFF09;&#x3002;</p>
<pre><code>$ declare -x | wc -l   #declare -x&#x8072;&#x660E;&#x7684;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x5C07;&#x88AB;&#x5C0E;&#x51FA;&#x5230;&#x5B50;&#x9032;&#x7A0B;&#x4E2D;
32
$ export TEST=&quot;just a test&quot;   #&#x70BA;&#x4E86;&#x8A8D;&#x8B49;declare -x&#x548C;&#x4E4B;&#x524D;&#x7684;vars&#x7684;&#x500B;&#x6578;&#x7684;&#x95DC;&#x4FC2;&#xFF0C;&#x518D;&#x52A0;&#x4E00;&#x500B;
$ declare -x | wc -l
33
$ strace -f -o strace.log /usr/bin/test   #&#x518D;&#x6B21;&#x8DDF;&#x8E64;&#xFF0C;&#x770B;&#x770B;&#x9019;&#x500B;&#x95DC;&#x4FC2;
hello, world!
$ cat strace.log | sed -ne &quot;1p&quot;
8523  execve(&quot;/usr/bin/test&quot;, [&quot;/usr/bin/test&quot;], [/* 34 vars */]) = 0
</code></pre><p>&#x901A;&#x904E;&#x9019;&#x500B;&#x6F14;&#x793A;&#x767C;&#x73FE;&#xFF0C;&#x7576;&#x524D; Shell &#x7684;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x4E2D;&#x88AB;&#x8A2D;&#x7F6E;&#x70BA; <code>export</code> &#x7684;&#x8B8A;&#x91CF;&#x88AB;&#x8907;&#x5236;&#x5230;&#x4E86;&#x65B0;&#x7684;&#x7A0B;&#x5E8F;&#x88E1;&#x982D;&#x3002;&#x4E0D;&#x904E;&#x96D6;&#x7136;&#x6211;&#x5011;&#x8A8D;&#x70BA; Shell &#x57F7;&#x884C;&#x65B0;&#x7A0B;&#x5E8F;&#x6642;&#x662F;&#x5728;&#x4E00;&#x500B;&#x65B0;&#x7684;&#x9032;&#x7A0B;&#x88E1;&#x982D;&#x57F7;&#x884C;&#x7684;&#xFF0C;&#x4F46;&#x662F; <code>strace</code> &#x4E26;&#x6C92;&#x6709;&#x8DDF;&#x8E64;&#x5230;&#x8AF8;&#x5982; <code>fork</code> &#x7684;&#x7CFB;&#x7D71;&#x8ABF;&#x7528;&#xFF08;&#x53EF;&#x80FD;&#x662F; <code>strace</code> &#x81EA;&#x5DF1;&#x8A2D;&#x8A08;&#x7684;&#x6642;&#x5019;&#x4E26;&#x6C92;&#x6709;&#x8DDF;&#x8E64; <code>fork</code> &#xFF0C;&#x6216;&#x8005;&#x662F;&#x5728; <code>fork</code> &#x4E4B;&#x5F8C;&#x624D;&#x8DDF;&#x8E64;&#xFF09;&#x3002;&#x4F46;&#x662F;&#x6709;&#x4E00;&#x500B;&#x4E8B;&#x5BE6;&#x6211;&#x5011;&#x4E0D;&#x5F97;&#x4E0D;&#x627F;&#x8A8D;&#xFF1A;&#x7576;&#x524D; Shell &#x4E26;&#x6C92;&#x6709;&#x88AB;&#x65B0;&#x7A0B;&#x5E8F;&#x7684;&#x9032;&#x7A0B;&#x66FF;&#x63DB;&#xFF0C;&#x6240;&#x4EE5;&#x8AAA; Shell &#x80AF;&#x5B9A;&#x662F;&#x5148;&#x8ABF;&#x7528; <code>fork</code> &#xFF08;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x662F; <code>vfork</code>&#xFF09;&#x5275;&#x5EFA;&#x4E86;&#x4E00;&#x500B;&#x5B50;&#x9032;&#x7A0B;&#xFF0C;&#x7136;&#x5F8C;&#x518D;&#x8ABF;&#x7528; <code>execve</code> &#x57F7;&#x884C;&#x65B0;&#x7A0B;&#x5E8F;&#x7684;&#x3002;&#x5982;&#x679C;&#x4F60;&#x9084;&#x4E0D;&#x76F8;&#x4FE1;&#xFF0C;&#x90A3;&#x9EBC;&#x76F4;&#x63A5;&#x901A;&#x904E; <code>exec</code> &#x57F7;&#x884C;&#x65B0;&#x7A0B;&#x5E8F;&#x770B;&#x770B;&#xFF0C;&#x9019;&#x500B;&#x53EF;&#x662F;&#x76F4;&#x63A5;&#x628A;&#x7576;&#x524D; Shell &#x7684;&#x9032;&#x7A0B;&#x66FF;&#x63DB;&#x6389;&#x7684;&#x3002;</p>
<pre><code>exec /usr/bin/test
</code></pre><p>&#x8A72;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7576;&#x524D; Shell &#x201C;&#x8B41;&#x201D;&#xFF08;&#x807D;&#x4E0D;&#x5230;&#xFF0C;&#x7A81;&#x7136;&#x6C92;&#x4E86;&#x800C;&#x5DF2;&#xFF09;&#x7684;&#x4E00;&#x4E0B;&#x5C31;&#x6C92;&#x6709;&#x4E86;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x4F86;&#x6A21;&#x64EC;&#x4E00;&#x4E0B; Shell &#x57F7;&#x884C;&#x666E;&#x901A;&#x7A0B;&#x5E8F;&#x3002; <code>multiprocess</code> &#x76F8;&#x7576;&#x65BC;&#x7576;&#x524D; Shell &#xFF0C;&#x800C; <code>/usr/bin/test</code> &#x5247;&#x76F8;&#x7576;&#x65BC;&#x901A;&#x904E;&#x547D;&#x4EE4;&#x884C;&#x50B3;&#x905E;&#x7D66; Shell &#x7684;&#x4E00;&#x500B;&#x7A0B;&#x5E8F;&#x3002;&#x9019;&#x88E1;&#x662F;&#x4EE3;&#x78BC;&#xFF1A;</p>
<pre><code>/* multiprocess.c */
#include &lt;stdio.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;unistd.h&gt;     /* sleep, fork, _exit */

int main()
{
    int child;
    int status;

    if( (child = fork()) == 0) {    /* child */
        printf(&quot;child: my pid is %d\n&quot;, getpid());
        printf(&quot;child: my parent&apos;s pid is %d\n&quot;, getppid());
        execlp(&quot;/usr/bin/test&quot;,&quot;/usr/bin/test&quot;,(char *)NULL);;
    } else if(child &lt; 0){       /* error */
            printf(&quot;create child process error!\n&quot;);
            _exit(0);
    }                                                   /* parent */
    printf(&quot;parent: my pid is %d\n&quot;, getpid());
    if ( wait(&amp;status) == child ) {
        printf(&quot;parent: wait for my child exit successfully!\n&quot;);
    }
}
</code></pre><p>&#x904B;&#x884C;&#x770B;&#x770B;&#xFF0C;</p>
<pre><code>$ make multiprocess
$ ./multiprocess
child: my pid is 2251
child: my parent&apos;s pid is 2250
hello, world!
parent: my pid is 2250
parent: wait for my child exit successfully!
</code></pre><p>&#x5F9E;&#x57F7;&#x884C;&#x7D50;&#x679C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;<code>/usr/bin/test</code> &#x5728; <code>multiprocess</code> &#x7684;&#x5B50;&#x9032;&#x7A0B;&#x4E2D;&#x904B;&#x884C;&#x4E26;&#x4E0D;&#x5E72;&#x64FE;&#x7236;&#x9032;&#x7A0B;&#xFF0C;&#x56E0;&#x70BA;&#x7236;&#x9032;&#x7A0B;&#x4E00;&#x76F4;&#x7B49;&#x5230;&#x4E86; <code>/usr/bin/test</code> &#x57F7;&#x884C;&#x5B8C;&#x6210;&#x3002;</p>
<p>&#x518D;&#x56DE;&#x982D;&#x770B;&#x770B;&#x4EE3;&#x78BC;&#xFF0C;&#x4F60;&#x6703;&#x767C;&#x73FE; <code>execlp</code> &#x4E26;&#x6C92;&#x6709;&#x50B3;&#x905E;&#x4EFB;&#x4F55;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x4FE1;&#x606F;&#x7D66; <code>/usr/bin/test</code> &#xFF0C;&#x5230;&#x5E95;&#x662F;&#x600E;&#x9EBC;&#x628A;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x50B3;&#x9001;&#x904E;&#x53BB;&#x7684;&#x5462;&#xFF1F;&#x901A;&#x904E; <code>man exec</code> &#x6211;&#x5011;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E00;&#x7D44; <code>exec</code> &#x7684;&#x8ABF;&#x7528;&#xFF0C;&#x5728;&#x88E1;&#x982D;&#x4E26;&#x6C92;&#x6709;&#x767C;&#x73FE; <code>execve</code> &#xFF0C;&#x4F46;&#x662F;&#x901A;&#x904E; <code>man execve</code> &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8A72;&#x7CFB;&#x7D71;&#x8ABF;&#x7528;&#x3002;&#x5BE6;&#x969B;&#x4E0A; <code>exec</code> &#x7684;&#x90A3;&#x4E00;&#x7D44;&#x8ABF;&#x7528;&#x90FD;&#x53EA;&#x662F; <code>libc</code> &#x5EAB;&#x63D0;&#x4F9B;&#x7684;&#xFF0C;&#x800C; <code>execve</code> &#x624D;&#x662F;&#x771F;&#x6B63;&#x7684;&#x7CFB;&#x7D71;&#x8ABF;&#x7528;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8AAA;&#x7121;&#x8AD6;&#x4F7F;&#x7528; <code>exec</code> &#x8ABF;&#x7528;&#x4E2D;&#x7684;&#x54EA;&#x4E00;&#x500B;&#xFF0C;&#x6700;&#x7D42;&#x8ABF;&#x7528;&#x7684;&#x90FD;&#x662F; <code>execve</code> &#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528; <code>execlp</code> &#xFF0C;&#x90A3;&#x9EBC; <code>execlp</code> &#x5C07;&#x901A;&#x904E;&#x4E00;&#x5B9A;&#x7684;&#x8655;&#x7406;&#x628A;&#x53C3;&#x6578;&#x8F49;&#x63DB;&#x70BA; <code>execve</code> &#x7684;&#x53C3;&#x6578;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x96D6;&#x7136;&#x6211;&#x5011;&#x6C92;&#x6709;&#x50B3;&#x905E;&#x4EFB;&#x4F55;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x7D66; <code>execlp</code> &#xFF0C;&#x4F46;&#x662F;&#x9ED8;&#x8A8D;&#x60C5;&#x6CC1;&#x4E0B;&#xFF0C;<code>execlp</code> &#x628A;&#x7236;&#x9032;&#x7A0B;&#x7684;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x8907;&#x88FD;&#x7D66;&#x4E86;&#x5B50;&#x9032;&#x7A0B;&#xFF0C;&#x800C;&#x9019;&#x500B;&#x52D5;&#x4F5C;&#x662F;&#x5728; <code>execlp</code> &#x51FD;&#x6578;&#x5167;&#x90E8;&#x5B8C;&#x6210;&#x7684;&#x3002;</p>
<p>&#x73FE;&#x5728;&#xFF0C;&#x7E3D;&#x7D50;&#x4E00;&#x4E0B; <code>execve</code> &#xFF0C;&#x5B83;&#x6709;&#x6709;&#x4E09;&#x500B;&#x53C3;&#x6578;&#xFF0C;</p>
<p> <code>-</code> &#x7B2C;&#x4E00;&#x500B;&#x662F;&#x7A0B;&#x5E8F;&#x672C;&#x8EAB;&#x7684;&#x7D55;&#x5C0D;&#x8DEF;&#x5F91;&#xFF0C;&#x5C0D;&#x65BC;&#x525B;&#x624D;&#x4F7F;&#x7528;&#x7684; <code>execlp</code> &#xFF0C;&#x6211;&#x5011;&#x6C92;&#x6709;&#x6307;&#x5B9A;&#x8DEF;&#x5F91;&#xFF0C;&#x9019;&#x610F;&#x5473;&#x8457;&#x5B83;&#x6703;&#x8A2D;&#x6CD5;&#x5230; <code>PATH</code> &#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x6307;&#x5B9A;&#x7684;&#x8DEF;&#x5F91;&#x4E0B;&#x53BB;&#x5C0B;&#x627E;&#x7A0B;&#x5E8F;&#x7684;&#x5168;&#x8DEF;&#x5F91;&#x3002;
 <code>-</code> &#x7B2C;&#x4E8C;&#x500B;&#x53C3;&#x6578;&#x662F;&#x4E00;&#x500B;&#x5C07;&#x50B3;&#x905E;&#x7D66;&#x88AB;&#x5B83;&#x57F7;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x53C3;&#x6578;&#x6578;&#x7D44;&#x6307;&#x91DD;&#x3002;&#x6B63;&#x662F;&#x9019;&#x500B;&#x53C3;&#x6578;&#x628A;&#x6211;&#x5011;&#x5F9E;&#x547D;&#x4EE4;&#x884C;&#x4E0A;&#x8F38;&#x5165;&#x7684;&#x90A3;&#x4E9B;&#x53C3;&#x6578;&#xFF0C;&#x8AF8;&#x5982; <code>grep</code> &#x547D;&#x4EE4;&#x7684; <code>-v</code> &#x7B49;&#x50B3;&#x905E;&#x7D66;&#x4E86;&#x65B0;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x904E; <code>main</code> &#x51FD;&#x6578;&#x7684;&#x7B2C;&#x4E8C;&#x500B;&#x53C3;&#x6578; <code>char</code> <em> <code>argv[]</code> &#x7372;&#x5F97;&#x9019;&#x4E9B;&#x5167;&#x5BB9;&#x3002;
 <code>-</code> &#x7B2C;&#x4E09;&#x500B;&#x53C3;&#x6578;&#x662F;&#x4E00;&#x500B;&#x5C07;&#x50B3;&#x905E;&#x7D66;&#x88AB;&#x5B83;&#x57F7;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#xFF0C;&#x9019;&#x4E9B;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x904E; <code>main</code> &#x51FD;&#x6578;&#x7684;&#x7B2C;&#x4E09;&#x500B;&#x8B8A;&#x91CF;&#x7372;&#x53D6;&#xFF0C;&#x53EA;&#x8981;&#x5B9A;&#x7FA9;&#x4E00;&#x500B; <code>char</code> </em> <code>env[]</code> &#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x53EA;&#x662F;&#x901A;&#x5E38;&#x4E0D;&#x76F4;&#x63A5;&#x7528;&#x5B83;&#x7F77;&#x4E86;&#xFF0C;&#x800C;&#x662F;&#x901A;&#x904E;&#x53E6;&#x5916;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x901A;&#x904E; <code>extern char</code> ** <code>environ</code> &#x5168;&#x5C40;&#x8B8A;&#x91CF;&#xFF08;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x8868;&#x7684;&#x6307;&#x91DD;&#xFF09;&#x6216;&#x8005; <code>getenv</code> &#x51FD;&#x6578;&#x4F86;&#x7372;&#x53D6;&#x67D0;&#x500B;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x7684;&#x503C;&#x3002;</p>
<p>&#x7576;&#x7136;&#xFF0C;&#x5BE6;&#x969B;&#x4E0A;&#xFF0C;&#x7576;&#x7A0B;&#x5E8F;&#x88AB; <code>execve</code> &#x57F7;&#x884C;&#x5F8C;&#xFF0C;&#x5B83;&#x88AB;&#x52A0;&#x8F09;&#x5230;&#x4E86;&#x5167;&#x5B58;&#x88E1;&#xFF0C;&#x5305;&#x62EC;&#x7A0B;&#x5E8F;&#x7684;&#x5404;&#x7A2E;&#x6307;&#x4EE4;&#x3001;&#x6578;&#x64DA;&#x4EE5;&#x53CA;&#x50B3;&#x905E;&#x7D66;&#x5B83;&#x7684;&#x5404;&#x7A2E;&#x53C3;&#x6578;&#x3001;&#x74B0;&#x5883;&#x8B8A;&#x91CF;&#x7B49;&#x90FD;&#x88AB;&#x5B58;&#x653E;&#x5728;&#x7CFB;&#x7D71;&#x5206;&#x914D;&#x7D66;&#x8A72;&#x7A0B;&#x5E8F;&#x7684;&#x5167;&#x5B58;&#x7A7A;&#x9593;&#x4E2D;&#x3002;</p>
<p>&#x6211;&#x5011;&#x53EF;&#x4EE5;&#x901A;&#x904E; <code>/proc/&lt;pid&gt;/maps</code> &#x628A;&#x4E00;&#x500B;&#x7A0B;&#x5E8F;&#x5C0D;&#x61C9;&#x7684;&#x9032;&#x7A0B;&#x7684;&#x5167;&#x5B58;&#x6620;&#x8C61;&#x770B;&#x500B;&#x5927;&#x6982;&#x3002;</p>
<pre><code>$ cat /proc/self/maps   #&#x67E5;&#x770B;cat&#x7A0B;&#x5E8F;&#x81EA;&#x8EAB;&#x52A0;&#x8F09;&#x5F8C;&#x5C0D;&#x61C9;&#x9032;&#x7A0B;&#x7684;&#x5167;&#x5B58;&#x6620;&#x50CF;
08048000-0804c000 r-xp 00000000 03:01 273716     /bin/cat
0804c000-0804d000 rw-p 00003000 03:01 273716     /bin/cat
0804d000-0806e000 rw-p 0804d000 00:00 0          [heap]
b7c46000-b7e46000 r--p 00000000 03:01 87528      /usr/lib/locale/locale-archive
b7e46000-b7e47000 rw-p b7e46000 00:00 0
b7e47000-b7f83000 r-xp 00000000 03:01 466875     /lib/libc-2.5.so
b7f83000-b7f84000 r--p 0013c000 03:01 466875     /lib/libc-2.5.so
b7f84000-b7f86000 rw-p 0013d000 03:01 466875     /lib/libc-2.5.so
b7f86000-b7f8a000 rw-p b7f86000 00:00 0
b7fa1000-b7fbc000 r-xp 00000000 03:01 402817     /lib/ld-2.5.so
b7fbc000-b7fbe000 rw-p 0001b000 03:01 402817     /lib/ld-2.5.so
bfcdf000-bfcf4000 rw-p bfcdf000 00:00 0          [stack]
ffffe000-fffff000 r-xp 00000000 00:00 0          [vdso]
</code></pre><p>&#x95DC;&#x65BC;&#x7A0B;&#x5E8F;&#x52A0;&#x8F09;&#x548C;&#x9032;&#x7A0B;&#x5167;&#x5B58;&#x6620;&#x50CF;&#x7684;&#x66F4;&#x591A;&#x7D30;&#x7BC0;&#x8ACB;&#x53C3;&#x8003;<a href="02-chapter5.html">&#x300A;C &#x8A9E;&#x8A00;&#x7A0B;&#x5E8F;&#x7DE9;&#x885D;&#x5340;&#x6CE8;&#x5165;&#x5206;&#x6790;&#x300B;</a>&#x3002;</p>
<p>&#x5230;&#x9019;&#x88E1;&#xFF0C;&#x95DC;&#x65BC;&#x547D;&#x4EE4;&#x884C;&#x7684;&#x7955;&#x5BC6;&#x90FD;&#x88AB;&#x201C;&#x66DD;&#x5149;&#x201D;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x958B;&#x59CB;&#x5BEB;&#x81EA;&#x5DF1;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x89E3;&#x91CB;&#x7A0B;&#x5E8F;&#x4E86;&#x3002;</p>
<p>&#x95DC;&#x65BC;&#x9032;&#x7A0B;&#x7684;&#x76F8;&#x95DC;&#x64CD;&#x4F5C;&#x8ACB;&#x53C3;&#x8003;<a href="02-chapter7.html">&#x300A;&#x9032;&#x7A0B;&#x8207;&#x9032;&#x7A0B;&#x7684;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x300B;</a>&#x3002;</p>
<p>&#x88DC;&#x5145;&#xFF1A;&#x4E0A;&#x9762;&#x6C92;&#x6709;&#x8A0E;&#x8AD6;&#x5230;&#x4E00;&#x500B;&#x6BD4;&#x8F03;&#x91CD;&#x8981;&#x7684;&#x5167;&#x5BB9;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x5373;&#x4F7F; <code>execve</code> &#x627E;&#x5230;&#x4E86;&#x67D0;&#x500B;&#x53EF;&#x57F7;&#x884C;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x8A72;&#x6587;&#x4EF6;&#x5C6C;&#x4E3B;&#x6C92;&#x6709;&#x904B;&#x884C;&#x8A72;&#x7A0B;&#x5E8F;&#x7684;&#x6B0A;&#x9650;&#xFF0C;&#x90A3;&#x9EBC;&#x4E5F;&#x6C92;&#x6709;&#x8FA6;&#x6CD5;&#x904B;&#x884C;&#x7A0B;&#x5E8F;&#x3002;&#x53EF;&#x901A;&#x904E; <code>ls -l</code> &#x67E5;&#x770B;&#x7A0B;&#x5E8F;&#x7684;&#x6B0A;&#x9650;&#xFF0C;&#x901A;&#x904E; <code>chmod</code> &#x6DFB;&#x52A0;&#x6216;&#x8005;&#x53BB;&#x6389;&#x53EF;&#x57F7;&#x884C;&#x6B0A;&#x9650;&#x3002;</p>
<p>&#x6587;&#x4EF6;&#x5C6C;&#x4E3B;&#x5177;&#x6709;&#x53EF;&#x57F7;&#x884C;&#x6B0A;&#x9650;&#x6642;&#x624D;&#x53EF;&#x4EE5;&#x57F7;&#x884C;&#x67D0;&#x500B;&#x7A0B;&#x5E8F;&#xFF1A;</p>
<pre><code>$ whoami
falcon
$ ls -l hello  #&#x67E5;&#x770B;&#x7528;&#x6236;&#x6B0A;&#x9650;(&#x7B2C;&#x4E00;&#x500B;x&#x8868;&#x793A;&#x5C6C;&#x4E3B;&#x5C0D;&#x8A72;&#x7A0B;&#x5E8F;&#x5177;&#x6709;&#x53EF;&#x57F7;&#x884C;&#x6B0A;&#x9650;
-rwxr-xr-x 1 falcon users 6383 2000-01-23 07:59 hello*
$ ./hello
Hello World
$ chmod -x hello  #&#x53BB;&#x6389;&#x5C6C;&#x4E3B;&#x7684;&#x53EF;&#x57F7;&#x884C;&#x6B0A;&#x9650;
$ ls -l hello
-rw-r--r-- 1 falcon users 6383 2000-01-23 07:59 hello
$ ./hello
-bash: ./hello: Permission denied
</code></pre><p><span id="toc_16100_6031_13"></span></p>
<h2 id="%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99">&#x53C3;&#x8003;&#x8CC7;&#x6599;</h2>
<ul>
<li>Linux &#x555F;&#x52D5;&#x904E;&#x7A0B;&#xFF1A;<code>man boot-scripts</code></li>
<li>Linux &#x5167;&#x6838;&#x555F;&#x52D5;&#x53C3;&#x6578;&#xFF1A;<code>man bootparam</code></li>
<li><code>man 5 passwd</code></li>
<li><code>man shadow</code></li>
<li>&#x300A;UNIX &#x74B0;&#x5883;&#x9AD8;&#x7D1A;&#x7DE8;&#x7A0B;&#x300B;&#xFF0C;&#x9032;&#x7A0B;&#x95DC;&#x4FC2;&#x4E00;&#x7AE0;</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../zh/chapters/02-chapter2.html" class="navigation navigation-prev " aria-label="Previous page: Gcc 編譯的背後"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../zh/chapters/02-chapter4.html" class="navigation navigation-next " aria-label="Next page: 動態符號鏈接的細節"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-google_code_prettify/google-code-prettify.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-google_code_prettify/plugin.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-collapsible-menu/plugin.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
